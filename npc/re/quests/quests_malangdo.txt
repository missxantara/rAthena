//===== rAthena Script =======================================
//= Malangdo Quest NPCs
//===== By: ==================================================
//= Muad_Dib
//===== Current Version: =====================================
//= 1.3
//===== Compatible With: =====================================
//= rAthena SVN
//===== Description: =========================================
//= Quest NPCs related to Malangdo:
//== Help the Bad Cats in Danger, Clean the Ship,
//== Help Chef Nyas, Play with Baby Cats
//== Archangel Wing Enchants
//===== Additional Comments: =================================
//= 1.0 First version. [Euphy]
//= 1.1 Added two quests.
//= 1.2 Added Archangel Wing Enchants.
//= 1.3 Added Play with Baby Cats.
//============================================================

// Help the Bad Cats in Danger :: mal_bad_guys
//============================================================
malangdo,175,206,3	script	Gobonge#ml	561,{
	if (checkweight(1201,1) == 0) {
		mes "- Can't go next step due to having too many items. -";
		close;
	}
	if (checkquest(1152,PLAYTIME) == 0) {
		mes "[Gobonge]";
		mes "Hmm, investigation is not enough.";
		mes "We need go back to basic point.";
		mes "Come again tomorrow.";
		mes "I might be in pain of stomach";
		mes "like usual.";
		close;
	} else if (checkquest(1152,PLAYTIME) == 1) {
		erasequest 1152;
		set malang_bad_guys,0;
	} else if (checkquest(1152,PLAYTIME) == 2) {
		completequest 1152;
		erasequest 1152;
		set malang_bad_guys,0;
	}
	if (BaseLevel < 60) {
		mes "[Gobonge]";
		mes "Are you here to get help";
		mes "or to get help?";
		mes "You look so weak, haha...";
		mes "Go and hunt more Porings!";
		close;
	}
	if (malang_bad_guys == 0) {
		mes "[Gobonge]";
		mes "Will you listen my sorrow?";
		next;
		switch(select("Sure I will.:No, I won't.")) {
		case 1:
			mes "[Gobonge]";
			mes "This is a sad story.";
			mes "As usual, I unpacked the bag";
			mes "to see strange cats";
			mes "to show them.";
			next;
			mes "[Gobonge]";
			mes "There were lots of cans.";
			mes "I thougt it was new due to different shape";
			mes "but it was bad cans!";
			mes "I ate too much and";
			mes "got in bed right away";
			mes "so I can't do anything...";
			next;
			mes "[Gobonge]";
			mes "And by the way, you have...";
			mes "nice colthes.";
			mes "I can't let you go,";
			mes "that hurts me so badly!";
			emotion e_sob;
			next;
			switch(select("You deserve the pain!:Need help?")) {
			case 1:
				mes "[Gobonge]";
				mes "Yes you are!";
				close;
			case 2:
				mes "[Gobonge]";
				mes "You know what care is.";
				mes "Please find the bad provider";
				mes "and revenge our enemy!";
				next;
				switch(select("No, I don't want to!:Yes, I'll do it!")) {
				case 1:
					mes "[" + strcharinfo(0) + "]";
					mes "For the peace in Malangdo,";
					mes "just lay in bed forever.";
					next;
					mes "[Gobonge]";
					mes "I will!";
					mes "I will have your peace first once I get well!";
					close;
				case 2:
					mes "[Gobonge]";
					mes "Okay, you can do it?";
					mes "The enemy must be near the dock";
					mes "where we got the bundle.";
					mes "We should get them to help";
					mes "our cats' well-being!";
					setquest 1145;
					set malang_bad_guys,1;
					close;
				}
			}
		case 2:
			mes "[Gobonge]";
			mes "Why are you here!";
			mes "If I am usual, I will engrave something";
			mes "with your tear...";
			mes "Let your bag be here instead!";
			emotion e_sob;
			close;
		}
	} else if (malang_bad_guys == 1) {
		mes "[Gobonge]";
		mes "The enemy must be near the dock";
		mes "where we got the bundle.";
		mes "We should get them to help";
		mes "our cats' well-being!";
		close;
	} else if (malang_bad_guys > 1 && malang_bad_guys < 7) {
		mes "[Gobonge]";
		mes "I am so tired due to";
		mes "lack of forbidden bad activity.";
		close;
	} else if (malang_bad_guys == 7) {
		if (countitem(6426) > 29) {
			mes "[Gobonge]";
			mes "Was it from raccoon that made us pain in stomach?";
			mes "Oh bad raccoon!";
			mes "I feel stomachache again from this anger!";
			mes "All right, I will show my power once";
			mes "I can get out of bed.";
			next;
			mes "[Gobonge]";
			mes "I need time to concentrate on my stomachache.";
			mes "You can go now!";
			erasequest 1151;
			set malang_bad_guys,8;
			getitem 12636,20; //Malang_Sp_Can
			delitem 6427,1; //Bad_Can_Sack
			delitem 6426,30; //Bad_Can
			close;
		}
		mes "[Gobonge]";
		mes "How do you know the source of bad can?";
		mes "Do you have time to do slow at the moment?";
		emotion e_sob;
		close;
	} else if (malang_bad_guys == 8) {
		mes "[Gobonge]";
		mes "The Patrol Leader wants to go back to";
		mes "bad world as soon as possible.";
		mes "I want you to go first to soothe him instead.";
		mes "How about it?";
		next;
		switch(select("It's troublsome, I quit.:Sure I will!")) {
		case 1:
			mes "[Gobonge]";
			mes "Haha, you think it is a bad word.";
			mes "I want you to be one of our staffs.";
			next;
			mes "[Gobonge]";
			mes "Sorry, but you should go now";
			mes "so that I can concentrate on my stomachache.";
			setquest 1152;
			set malang_bad_guys,9;
			close;
		case 2:
			mes "[Gobonge]";
			mes "All right, then I will have time";
			mes "to concentrate on my stomachache.";
			setquest 1153;
			set malang_bad_guys,10;
			close;
		}
	} else if (malang_bad_guys == 9) {
		mes "[Gobonge]";
		mes "Hmm, investigation is not enough.";
		mes "We need go back to basic point.";
		mes "Come again tomorrow.";
		mes "I might be in pain of stomach";
		mes "like usual.";
		close;
	} else if (malang_bad_guys > 9 && malang_bad_guys < 12) {
		mes "[Gobonge]";
		mes "Go and have fun with the Patrol Leader!";
		close;
	} else if (malang_bad_guys == 12) {
		mes "[Gobonge]";
		mes "Instead of us, you did bad behavior.";
		mes "Good to hear that?";
		mes "This is what teacher see best pupil?";
		emotion e_swt;
		next;
		mes "[Gobonge]";
		mes "You deserve a reward!";
		mes "I need to get some more rest,";
		mes "so let's investigate tomorrow!";
		erasequest 1155;
		setquest 1152;
		set malang_bad_guys,13;
		getitem 6422,5; //Egrade_Coin
		close;
	} else if (malang_bad_guys == 13) {
		mes "[Gobonge]";
		mes "Come again tomorrow.";
		mes "I might be in pain of stomach";
		mes "like usual.";
		close;
	}
OnEnable:
	enablenpc "Gobonge#ml";
	close;
OnDisable:
	disablenpc "Gobonge#ml";
	close;
}

malangdo,181,205,3	script	Gobulee#ml1	547,{
	mes "[Gobulee]";
	mes "Why do you come now?";
	mes "You should have come when we were healthy.";
	mes "So, you want to me take out what you have?";
	close;
}

malangdo,180,202,3	script	Gobyungee#ml1	547,{
	mes "[Gobyungee]";
	mes "I can't see other cats because";
	mes "I could't have time to do bad behavior...";
	close;
}

malangdo,186,201,3	script	Gosigee#ml1	547,{
	mes "[Gosigee]";
	mes "I am desperate for pill of stomachache,";
	mes "cap is only thinking of finding out criminal";
	mes "and to revenge!";
	mes "...";
	next;
	mes "[Gosigee]";
	mes "How can we follow him as a cap...!";
	close;
}

malangdo,177,202,3	script	Gonanee#ml2	547,{
	mes "[Gonanee]";
	mes "We are only bad circle in Malangdo";
	mes "and we are very proud.";
	mes "Can't just lie in bed.";
	close;
}

malangdo,183,202,3	script	Godoree#ml3	547,{
	mes "[Godoree]";
	mes "I saw unfamiliar cats around";
	mes "the dock frequently.";
	mes "Are they tourists?";
	mes "We should check their pockets";
	mes "once I get well...";
	close;
}

malangdo,203,116,5	script	Suspious Dealer#ml	543,{
	mes "On listening to the story for";
	mes "a while, he pretends to be indifferent once hearing someone's noise.";
	next;
	mes "[Suspious Dealer]";
	mes "Oh my body, too much pain...";
	close;
}

malangdo,205,116,3	script	Very Suspious Dealer#ml1	543,{
	mes "On listening to the story for";
	mes "a while, he pretends to be indifferent once hearing someone's noise.";
	next;
	mes "[Very Suspious Dealer]";
	mes "The weather is so dirty...";
	close;
}

malangdo,197,120,5	script	Foolish Cat#ml	546,{
	mes "[Foolish Cat]";
	mes "If you stay here, you";
	mes "can hear all they're saying.";
	mes "Don't know exactly what, but";
	mes "you do hear everything.";
	mes "Hehehe...";
	close;
}

malangdo,196,120,0	script	#ml1	-1,2,2,{
OnTouch:
	if (malang_bad_guys == 1 || malang_bad_guys == 2) {
		mes "You hear a conversation between the Suspious Dealers.";
		next;
		mes "[Suspious Dealer]";
		mes "Because unexpected robbery at that moment...";
		mes "our great work has delayed.";
		next;
		mes "[Very Suspious Dealer]";
		mes "Do not worry about the thing, I placed it near balloon bag where";
		mes "Ship Navi is in the north, and I hid it perfectly.";
		next;
		mes "You need to check a place near north of balloon bag in ship Navi.";
		if (malang_bad_guys == 1) {
			erasequest 1145;
			setquest 1146;
			set malang_bad_guys,2;
		}
		close;
	} else if (malang_bad_guys > 2 && malang_bad_guys < 8) {
		mes "You still hear a suspicious conversation.";
		next;
		mes "[Suspious Dealer]";
		mes "But near the balloon bag is still";
		mes "worrying so much!";
		next;
		mes "[Very Suspious Dealer]";
		mes "Oh how cowardly you are!";
		mes "I hid it in ship Navi perfectly.";
		mes "Relax!";
		next;
		mes "[Suspious Dealer]";
		mes "The rest of part is in staffs.";
		mes "We should believe.";
		next;
		mes "We need to investigate Navi first.";
		mes "Let's see other guys in ship Navi.";
		if (malang_bad_guys == 3) {
			erasequest 1147;
			setquest 1148;
			set malang_bad_guys,4;
		}
		close;
	} else if (malang_bad_guys > 7) {
		mes "You still hear a suspicious conversation.";
		next;
		mes "[Suspious Dealer]";
		mes "Star candy is still healthy,";
		mes "what happens?";
		next;
		mes "[Very Suspious Dealer]";
		mes "No way...";
		mes "We should get more bad cans.";
		close;
	}
	end;
}

malangdo,155,179,0	script	#ml2	-1,2,2,{
OnTouch:
	if (malang_bad_guys == 2 || malang_bad_guys == 3) {
		mes "There's a memo.";
		next;
		mes "[Memo]";
		mes "Here is not what we wanted, huh!";
		next;
		mes "...do listen the conversation of merchant.";
		if (malang_bad_guys == 2) {
			erasequest 1146;
			setquest 1147;
			set malang_bad_guys,3;
		}
		close;
	}
	end;
}

malangdo,171,163,3	script	Awfully Suspious Dealer	543,{
	if (malang_bad_guys < 4) {
		mes "[Awfully Suspious Dealer]";
		mes "We quit our sales,";
		mes "find the other merchant!";
		close;
	} else if (malang_bad_guys == 4) {
		mes "[Awfully Suspious Dealer]";
		mes "Bad cans?";
		mes "Due to lots of work in here";
		mes "can't have a short time to talk?";
		next;
		switch(select("Look suspicious?:I knew all things here!")) {
		case 1:
			mes "[Awfully Suspious Dealer]";
			mes "I have a same boat with you!";
			close;
		case 2:
			mes "[Awfully Suspious Dealer]";
			mes "...";
			mes "You searched the lounge of ship Navi?";
			mes "...";
			next;
			mes "[Awfully Suspious Dealer]";
			mes "It looks wrong place~";
			mes "Go and do other things~!";
			next;
			mes "You need to search lounge of ship Navi?";
			erasequest 1148;
			setquest 1149;
			set malang_bad_guys,5;
			close;
		}
	} else if (malang_bad_guys == 5) {
		mes "[Awfully Suspious Dealer]";
		mes "A thought to search Gozangee around ship Navi";
		mes "is like to ride a skill";
		mes "with frying pan, it is idiot things.";
		mes "I do not recommend.";
		close;
	} else if (malang_bad_guys == 6) {
		if (countitem(6427) == 0) {
			mes "[Awfully Suspious Dealer]";
			mes "You searched the lounge of ship Navi?";
			mes "But still nothing in hand.";
			mes "I told you there's nothing.";
			mes "...";
			next;
			mes "[Awfully Suspious Dealer]";
			mes "...there must be something...";
			close;
		}
		mes "[Awfully Suspious Dealer]";
		mes "Oh! That's ^0000FFa sack of bad cans^000000, isn't it?";
		mes "Where did you get it? Amazing!";
		next;
		switch(select("Do not pretend not to know!:Need to show them our general!")) {
		case 1:
			mes "[Awfully Suspious Dealer]";
			mes "It just looks wonderful.";
			mes "There's nothing more to have?";
			emotion e_ho;
			close;
		case 2:
			mes "[Awfully Suspious Dealer]";
			mes "Relax!";
			mes "Let's have smile and fun with only ours.";
			next;
			mes "[Awfully Suspious Dealer]";
			mes "To be honest, I am a member of raccoon hurray team.";
			mes "A homeless community of raccoons";
			mes "became a black market group.";
			mes "I will make headquater of raccoon hurray team here";
			mes "after kick out group of cats.";
			next;
			switch(select("Are you the leader?:Let me clear the usage of bad can.:Can it be worked as you want?")) {
			case 1:
				mes "[Awfully Suspious Dealer]";
				mes "This is thankful misunderstanding,";
				mes "I am just little staff.";
				mes "I don't know who the leader is.";
				close;
			case 2:
				mes "[Awfully Suspious Dealer]";
				mes "That is...";
				mes "for food...";
				mes "Don't ask me more, please!";
				close;
			case 3:
				mes "[Awfully Suspious Dealer]";
				mes "You look down out raccoon hurray team?";
				mes "Look more! To my star candy who stands island";
				mes "I will make them have stomachache";
				mes "with lots of bad cans.";
				mes "Aren't you expecting?";
				next;
				mes "[Awfully Suspious Dealer]";
				mes "I can't make him eat with my hand,";
				mes "to creature in shining coral area that is basic food of star candy";
				mes "I am still feeding them with bad cans.";
				mes "You must see amazing reaction, just wait!";
				next;
				mes "The situation is serious.";
				mes "Once the cats figure out,";
				mes "you might be confused.";
				mes "Let's withdraw the bad cans first,";
				mes "located in the shining coral area.";
				erasequest 1150;
				setquest 1151;
				set malang_bad_guys,7;
				close;
			}
		}
	} else if (malang_bad_guys == 7) {
		mes "[Awfully Suspious Dealer]";
		mes "Plese forget what I have told you.";
		mes "Please...";
		mes "After you got 30 pcs of bad cans";
		mes "in shining coral area";
		mes "do not tell the cats";
		mes "or report this fact!";
		close;
	}
	mes "[Awfully Suspious Dealer]";
	mes "So you reported all things?";
	mes "...";
	mes "Now it's time to live a new life";
	mes "of group for hair tufts...";
	close;
}

mal_in02,184,72,3	script	Gozangee#ml	547,{
	mes "[Gozangee]";
	mes "I have too much pain in my stomach...";
	mes "Should endure myself!";
	mes "...do bad activity...";
	close;
}

mal_in02,184,77,0	script	#ml3	-1,2,2,{
OnTouch:
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items. -";
		close;
	}
	if (malang_bad_guys == 4) {
		mes "I came to...";
		mes "know a thing that shouldn't be";
		mes "appeared to anyone.";
		mes "Just pretend that I didn't see this.";
		close;
	} else if (malang_bad_guys == 5) {
		mes "This is...!";
		mes "...";
		next;
		mes "A sack that carrying bad cans.";
		next;
		mes "Let's bring this to a guy who";
		mes "is in Awfully Suspious Dealer in deck.";
		erasequest 1149;
		setquest 1150;
		set malang_bad_guys,6;
		getitem 6427,1; //Bad_Can_Sack
		close;
	} else if (malang_bad_guys == 6) {
		mes "I saw a sack of bad cans.";
		mes "located on the deck.";
		mes "Let's bring this to a guy who";
		mes "is in Awfully Suspious Dealer in deck.";
		close;
	}
	end;
}

malangdo,125,147,3	script	Patrol Leader#ml	545,{
	if (checkweight(1201,1) == 0) {
		mes "- Can't go next step due to having too many items. -";
		close;
	}
	if (malang_bad_guys < 10) {
		mes "[Patrol Leader]";
		mes "Be careful of distribution for";
		mes "bad cans recently in here";
		mes "so should be noticed.";
		close;
	} else if (malang_bad_guys == 10) {
		mes "[Patrol Leader]";
		mes "So you are going to do bad activity instead of";
		mes "group of hair tufts lying in bed?";
		mes "It's gonna be exciting!";
		mes "So excited...";
		next;
		mes "[Patrol Leader]";
		mes "Gobonge and his friends";
		mes "liked to torment ^0000FFRed Eruma^000000 in shining";
		mes "coral area more than anything.";
		next;
		mes "[Patrol Leader]";
		mes "Report to me after tormenting 20 ^0000FFRed Eruma^000000";
		mes "for a while.";
		mes "I will scold you as Patrol Leader!";
		next;
		switch(select("What Patrol Leader do like this?:Cheer up!!")) {
		case 1:
			mes "[Patrol Leader]";
			mes "This is what my flavor to do this!";
			close;
		case 2:
			mes "[Patrol Leader]";
			mes "I will expect various bad activities.";
			erasequest 1153;
			setquest 1154;
			set malang_bad_guys,11;
			close;
		}
	} else if (malang_bad_guys == 11) {
		if (checkquest(1154,HUNTING) == 2) {
			mes "[Patrol Leader]";
			mes "Wow, you did to ^0000FFRed Eruma^000000 so badly!";
			mes "I am impressed at your work.";
			next;
			mes "[Crime Prevention Staff]";
			mes "Captain, we have work again, right?";
			emotion e_sob;
			emotion e_sob,0,"Crime Prevention Staff#ml";
			next;
			mes "[Patrol Leader]";
			mes "Hide your tears and save your tears!";
			mes "You should cry when having a clue for bad activity";
			mes "at crime spot!";
			emotion e_sob;
			emotion e_sob,0,"Crime Prevention Staff#ml";
			next;
			mes "[Patrol Leader]";
			mes "I will scold you once the investigation is over!";
			mes "Visit Gobonge now.";
			erasequest 1154;
			setquest 1155;
			set malang_bad_guys,12;
			close;
		}
		mes "[Patrol Leader]";
		mes "Inside of starry coral area,";
		mes "report to me after tormenting 20 ^0000FFRed Eruma^000000";
		mes "for a while.";
		mes "I will scold you as Patrol Leader!";
		close;
	}
	mes "[Patrol Leader]";
	mes "I will scold you once the investigation";
	mes "is over!";
	mes "visit Gobonge now.";
	close;
}

malangdo,129,146,3	script	Crime Prevention Staff	545,{
	if (malang_bad_guys > 11) {
		mes "[Crime Prevention Staff]";
		mes "A work to do means happy things!";
		mes "I ask you to do various bad activities!";
		close;
	}
	mes "[Crime Prevention Staff]";
	mes "A group of cats that";
	mes "ate bad cans got";
	mes "pain in stomache.";
	mes "They are lying at the north";
	mes "of place but still rolling with anger.";
	next;
	mes "[Crime Prevention Staff]";
	mes "Haha... the village is becoming";
	mes "peaceful and calm, but feels";
	mes "somewhat empty. This is not";
	mes "usual scene that we can have.";
	mes "Let's see there?";
	close;
}

/*
malangdo,3,1,3	script	Guidance for quest#ml	543,{
	input .@input,1,9999;
	if (.@input != 1854) {
		mes "[Helper]";
		mes "What is this security code?";
		mes "Go away!";
		close;
	}
	mes "[Helper]";
	mes "Choose now, hurry!";
	next;
	switch(select("NPC appear!:NPC walkout!:Reset setitem:30 pcs of bad cans:Just before collecting cans:Start quest for Patrol Leader")) {
	case 1:
		donpcevent "Gobonge#ml::OnEnable";
		mes "[Helper]";
		mes "First appearance!";
		close;
	case 2:
		donpcevent "Gobonge#ml::OnDisable";
		mes "[Helper]";
		mes "Walk out!";
		close;
	case 3:
		mes "[Helper]";
		mes "Yap!";
		set malang_bad_guys,0;
		erasequest 1152;
		close;
	case 4:
		mes "[Helper]";
		mes "Owing?";
		getitem 6426,30; //Bad_Can
		close;
	case 5:
		mes "[Helper]";
		mes "Yap!";
		erasequest 1150;
		setquest 1151;
		set malang_bad_guys,7;
		close;
	case 6:
		mes "[Helper]";
		mes "Yap!";
		set malang_bad_guys,10;
		close;
	}
}
*/

// Pipielle :: mal_ppl
//============================================================
malangdo,137,200,6	script	Pipielle	549,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 1000) {
		mes "You have too many items, please try again after reducing your weight.";
		close;
	}
	if (BaseLevel < 60) {
		mes "[Pipielle]";
		mes "Wow this is nice weather, do you like this kind of weather too? I like it too but I need to my work now.";
		next;
		mes "[Pipielle]";
		mes "I would ask for your help if you were a stronger advanturer...";
		next;
		mes "^770099This cat is working on something, she asks for help above LV60.^000000";
		close;
	}
	set .@fish_ss1$, "What are you doing??";
	if (countitem(6451) > 29)
		set .@fish_ss2$, "I caught a lot of strange fishes!";
	else
		set .@fish_ss2$, "Remaining " + (30-countitem(6451)) + " of ^bbbbbbUnidentified Fish are required.^000000";
	if (ma_tomas == 100)
		set .@fish_ss3$, "I met an Admiral Thomas...";
	mes "[Pipielle]";
	mes "Would you come here and open your bag for me?";
	next;
	switch(select(.@fish_ss1$,.@fish_ss2$,.@fish_ss3$)) {
	case 1:
		mes "[Pipielle]";
		mes "There are many beautiful fishes around here. So I feel my heard beating when I standing here.";
		next;
		select("Of course, my heart will beat up too if I see delicious thing!");
		mes "[Pipielle]";
		mes "How come you only know about eating!! My heart don't beat up because of I see the delicious thing. Don't treat me the same as others.";
		next;
		mes "[Pipielle]";
		mes "I used to study from scholar from uno same as human. And I am good at human language as well. Don't treat me same as others.";
		next;
		mes "[Pipielle]";
		mes "I am a scholar who researches fish in here. It's little funny that cat research fish but it's true.";
		next;
		select("Are you originally a scholar?");
		mes "[Pipielle]";
		mes "Originally I used to mate of admiral Thomas. But our ship never to back to sea after we has arrived here.";
		next;
		mes "[Pipielle]";
		mes "The mate from ship that never voyage is lonely.";
		next;
		mes "[Pipielle]";
		mes "The scholar from Uno came here for research and he thought it is amazing thing that cat speaks human language. Therefore he started teach me.";
		next;
		select("But now everyone speaks human language.");
		mes "[Pipielle]";
		mes "Oh yes, there were only little cat speaks human language. That's why he treated me special.";
		next;
		mes "[Pipielle]";
		mes "Anyways, now I collect specimens to be ichthyologist. I hope you can help me.";
		next;
		if(select("How can I help you?:I would say no.") == 2) {
			mes "[Pipielle]";
			mes "Oh, okay. If you change your mind, please come again.";
			close;
		}
		mes "[Pipielle]";
		mes "There is a Pouring who's eating all fishes in Octopus and Culvert dungeon.";
		next;
		mes "[Pipielle]";
		mes "It used to not live there, but he might came here for winter, so could you collect the specimens unidentified fish after get rid of it.";
		next;
		mes "[Pipielle]";
		mes "You can get identified fishes from Pouring, so please collect about 30 pieces.";
		close;
	case 2:
		if (countitem(6451) > 29) {
			//saveppl Unknown_Fish
			delitem 6451,30; //Unknown_Fish
			mes "[Pipielle]";
			mes "Oh, thank you! I will take these specimens.";
			next;
			mes "[Pipielle]";
			mes "I want to give you something, but last one is out of stock now so I will just write your name here.";
			next;
			mes "[Pipielle]";
			mes "I can give you good new even from far distance, but it's only possible if I am really lucky...";
			close;
		}
		mes "[Pipielle]";
		mes "I'm sorry, but please collect 30 pieces of unidentified fishes specimens.";
		close;
	case 3:
		mes "[Pipielle]";
		mes "Oh, you have met admiral Thomas... how was it?";
		next;
		if(select("He looks gentle:He looks terrible") == 2) {
			mes "[Pipielle]";
			mes "Hmm...";
			mes "Frankly speaking, I was a real fan of Admiral Thomas. Can you take a responsibility of your word?";
			next;
			if(select("Just kidding!:Oh yes, he was really terrible!") == 2) {
				mes "[Pipielle]";
				mes "Is he?";
				mes "Okay, it really depends on personal taste...";
				close;
			}
		}
		mes "[Pipielle]";
		mes "Is he?";
		mes "I knew you would say so.";
		next;
		mes "[Pipielle]";
		mes "Admiral Thomas is a legendary figure who has voyaged to this island with leading all of us. I think it was the most happiest moment in my life.";
		next;
		mes "[Pipielle]";
		mes "Please help him a lot. There are not many people to trust. This is my personal request.";
		next;
		mes "[Pipielle]";
		mes "And this is small gift for ask you to look after admiral Thomas.";
		set ma_tomas,101;
		getitem 6422,200; //Egrade_Coin
		mes "^0000ffReceived 200 E Class Coins.^000000";
		close;
	}
}

// Clean the Ship :: mal_day_qook
//============================================================
mal_in02,76,63,7	script	Cleanyang	544,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (BaseLevel < 60) {
		mes "Sailor cat is crying sadly.";
		next;
		mes "[Cleanyang]";
		mes "Meow neow meoow";
		mes "What... Meow .. Something... going... Heuheung~";
		mes "You don't have to know. Meow heuheuheuk... ";
		next;
		mes "He does not continue to talk.";
		mes "He might say like that with shaking his head.";
		mes "'You are still young. That is why you don't understand my anguish and sadness...'";
		next;
		mes "It is much better to do not know.";
		close;
	}
	if (mal_qook == 0) {
		mes "Sailor cat is crying sadly.";
		emotion e_sob;
		next;
		mes "[Cleanyang]";
		mes "Meow meow meoooow~";
		mes "What is going on... Heu... heuk...";
		mes "You don't have to know. Heu... heuk...";
		emotion e_sob;
		next;
		mes "Could not continue talk.";
		next;
		switch(select("Cheer him up.:Ignore.")) {
		case 1:
			mes "I comforted his wounded heart just standing by him.";
			next;
			emotion e_sob;
			mes "[Cleanyang]";
			mes "This is unjust... Heuheuk...";
			mes "The chef... He always gives me scolding.";
			next;
			mes "[Cleanyang]";
			mes "I always clean up diligently.";
			mes "I have no idea where they are from... Heuheuk...";
			mes "They penetrated into the ingredients...";
			next;
			select("They?");
			mes "[Cleanyang]";
			mes "Yes, they are fast, small, hard and shiny black.";
			mes "Meow... Also, white and wriggled...";
			mes "My chef is so clean.";
			next;
			mes "[Cleanyang]";
			mes "It's ok. Clean, vermin and";
			mes "whatever... the unfair thing is";
			mes "that I really killed vermin as well, meow.";
			mes "In addition, I clean up diligently.";
			next;
			mes "[Cleanyang]";
			mes "By the way, they are coming over and over again.";
			mes "I don't know where they are from.";
			next;
			switch(select("Don't ask anymore.:Asking for the place of vermin came.")) {
			case 1:
				emotion e_sob;
				mes "[Cleanyang]";
				mes "...what's wrong with your face?";
				mes "Are you afraid of sending on an errand?";
				mes "What are you thinking about me... meow, meow...?";
				mes "It's not fair... meow, meow...";
				next;
				mes "Poor sailor cat Cleanyang begins to cry.";
				mes "Leave him alone.";
				close;
			case 2:
				mes "[Cleanyang]";
				mes "Does someone will go there and check it?";
				mes "Please, search everywhere of the ship Navi?";
				mes "I can't live like this! Meow, meow!";
				next;
				mes "[Cleanyang]";
				mes "There is definitely something I do not know. Meow.";
				mes "Meow... I'll clean this place up. Please find something instead of me.";
				set mal_qook,1;
				setquest 7260;
				close;
			}
		case 2:
			mes "You leave the crying cat and move back.";
			close;
		}
	} else if (mal_qook == 1) {
		if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1) {
			emotion e_omg;
			mes "[Cleanyang]";
			mes "Uh. What is that? Meow.";
			mes "This is cat's ship biscuit... It might be left for a long time...";
			mes "No way...!";
			next;
			select("Yeah, this is it.");
			emotion e_hmm;
			mes "[Cleanyang]";
			mes "There were infested with insects because sailors hided and left the cat's ship biscuit..";
			mes "I got a scolding cause of just teeth grinder?";
			mes "Meow!";
			next;
			select("Teeth Grinder?");
			mes "[Cleanyang]";
			mes "That is right, meow.";
			mes "This is stiff-baked bread for preserve easily during sailing, meow.";
			mes "It is too hard, so if you just bite this, probably your canine will be broken, meow.";
			next;
			mes "[Cleanyang]";
			mes "It is baked with just salt and flour for preserve long time that is why it does not have any taste.";
			mes "More than all..... look at this.";
			next;
			mes "Cleanyang breaks cat's ship biscuit with hammer and chisel";
			mes "and hit on the floor. Then...";
			next;
			mes "[Cleanyang]";
			mes "........can you see something coming out from here?";
			mes "This is Weevil Bug..........";
			mes "It is such a castle of insects.";
			next;
			mes "[Cleanyang]";
			mes "Maybe someone really does not want to eat this.";
			mes "These insects are left before we are settled on island and change the menu.";
			next;
			mes "[Cleanyang]";
			mes "After settled on this island, we did not make cat's ship biscuit due to fresh ingredients.";
			mes "........";
			next;
			mes "[Cleanyang]";
			mes "Please show this to chef and tell him that Cleanyang really cleaned up very well.";
			mes "Well... I'm still afraid of chef...";
			mes "...please! Meow!";
			set mal_qook,2;
			erasequest 7261;
			erasequest 7262;
			erasequest 7263;
			erasequest 7260;
			setquest 7264;
			next;
			mes "[Cleanyang]";
			mes "Ah, that cat's ship biscuit is still fine, so just try to eat.";
			mes "Do you wonder what is that? It was a great food even though it's not look good...";
			close;
		}
		mes "[Cleanyang]";
		mes "Please search the ship Navi and find the place of origin.";
		mes "I just believe you.";
		close;
	} else if (mal_qook == 2) {
		mes "[Cleanyang]";
		mes "If you show cat's ship biscuit to chef and those insects were from there,";
		mes "my misunderstanding will be resolved.";
		next;
		select("Why don't you go by yourself?");
		mes "[Cleanyang]";
		mes "Um... I still have to clean up...";
		mes "I'm still scared of my chef, so please.";
		close;
	} else if (mal_qook == 3) {
		mes "[Cleanyang]";
		mes "Chef gets angry.";
		mes "Just beg for mercy!";
		close;
	} else if (mal_qook == 4) {
		mes "[Cleanyang]";
		mes "Did you say that chef was more upset about cat's ship biscuit?";
		mes "From now, I don't have to crying?";
		next;
		mes "[Cleanyang]";
		mes "If chef needs something, Just bring it for him~";
		mes "Is that good for each other?";
		next;
		mes "[Cleanyang]";
		mes "When chef is satisfied and pleased, just come at that time.";
		mes "I may not able to clean up until that time because I'm nervous. Meow....";
		close;
	} else if (mal_qook == 5) {
		mes "[Cleanyang]";
		mes "Did you finish work what chef wanted?";
		mes "By the way, why do you make cat's ship biscuit suddenly?";
		next;
		select("New menu for you.");
		mes "[Cleanyang]";
		mes "Meoooow----!!";
		mes "Keemeoooow!!";
		mes "Nyahuhuh... Kmeoooow!";
		next;
		mes "[Cleanyang]";
		mes "Nooo!!!!!!!!!!!";
		mes "Without cat's ship biscuit was a heaven. I don't want to go hell again!!!!";
		mes "Kmeoooow... Kmeoooow... Kmeoooow~";
		next;
		switch(select("Tickling under the chin.:Hit the end of nose.:Tap on butt.")) {
		case 1:
			mes "[Cleanyang]";
			mes "Meoow... Koleung koleung...";
			mes "Kyarreung...";
			mes "Huahhuah... Golgolgol...";
			next;
			break;
		case 2:
			mes "[Cleanyang]";
			mes "Eung Kya-!";
			mes "Uh nyanyanyanaynyan!";
			mes "What the heck are you doing!";
			next;
			break;
		case 3:
			mes "[Cleanyang]";
			mes "Heu keeyangyang";
			mes "Heunyang... Euhnyang-!";
			mes "What are you doing!";
			next;
			break;
		}
		mes "[Cleanyang]";
		mes "Please stop...";
		mes "Now, be calm.";
		mes "I understand that chef's saying and huge plan.";
		next;
		mes "[Cleanyang]";
		mes "Hey, human who helped me, you, you!";
		mes "Could you do me favor.";
		mes "If the menu will be changed and provide cat's ship biscuit, definitely they appear...";
		next;
		select("What?");
		mes "[Cleanyang]";
		mes "Cat the Cat!";
		mes "Cats who hide cat's ship biscuit secretly.";
		mes "No one says that do not want to eat and throw away because they are scare chef.";
		next;
		mes "[Cleanyang]";
		mes "Absolutely, they begin to hide cat's ship biscuit...";
		mes "And it will be infested by insects!";
		mes "Chef will give a scolding again!";
		next;
		mes "[Cleanyang]";
		mes "So let me see you everyday from provided cat's ship biscuit tomorrow.";
		mes "You did good job. This is a token of thanks.";
		set mal_qook,6;
		getitem 12636,30; //Malang_Sp_Can
		getexp 80000,80000;
		setquest 7267;
		close;
	}
	switch(rand(3)) {
	case 0:
		mes "[Cleanyang]";
		mes "Ohohohong...";
		mes "Euhohohohong...";
		mes "It's horrible... I got cat's ship biscuit but I don't know when It was made.";
		mes "It's really hard. I almost lost my teeth.";
		break;
	case 1:
		mes "[Cleanyang]";
		mes "Chef might forget everything that he gave me a scolding cause of insects.";
		mes "He got a shock by cat's ship biscuit. Is this bigger case than the clean up?";
		break;
	case 2:
		mes "[Cleanyang]";
		mes "I'm a cleaning cat Cleanyang~";
		mes "Meow~";
		mes "Make a scratch others' door of house Meow~";
		mes "Meow~ Uh? Did you hear it?";
		mes "This is my cleaning song.";
		break;
	}
	next;
	mes "[Cleanyang]";
	mes "By the way, what is going on?";
	next;
	switch(select("It's time to promise~:I'm here to see the result~:Shake your butt~")) {
	case 1:
		if (checkquest(7267,PLAYTIME) == 0) {
			mes "[Cleanyang]";
			mes "Uh? Not yet.";
			mes "Today's cat's ship biscuit is not provided yet, so I will know that after wait little bit more.";
			mes "It might be after chef's distribution of cat's ship biscuit.";
			close;
		}
		if (checkquest(7268) != -1) {
			mes "[Cleanyang]";
			mes "My service to you today.";
			mes "Recently, there are 9 spot that hided cat's ship biscuit as well.";
			next;
			mes "[Cleanyang]";
			mes "Someone think that good angel took them all as I collected and threw away";
			mes "He still hide them that place.";
			next;
			mes "[Cleanyang]";
			mes "It is so easy because I don't have to search everywhere, but";
			mes "Please search the 9 spot where hiding frequently.";
			close;
		}
		if (checkquest(7267,PLAYTIME) == 2)
			completequest 7267;
		erasequest 7267;
		mes "[Cleanyang]";
		mes "Is there guy who hide cat's ship biscuit today?";
		mes "Probably there he is?";
		next;
		switch(select("Try to search today.:Maybe not today.")) {
		case 1:
			mes "[Cleanyang]";
			mes "My service to you today.";
			mes "The inside of ship Navi, home and cat tower too. Don't even miss a blade of grass";
			mes "Search everywhere.";
			setquest 7268;
			close;
		case 2:
			mes "[Cleanyang]";
			mes "Do you think so?";
			mes "If so, It's good thing.";
			mes "Anyway, It is not infested of insects due to we find them and remove right away.";
			mes "That's enough.";
			close;
		}
	case 2:
		if (checkquest(7268) == -1) {
			mes "[Cleanyang]";
			mes "Um? Nobody request for collecting cat's ship biscuit today.";
			mes "By the way, what is the result report?";
			mes "Are you sick?";
			close;
		}
		if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1 && checkquest(7269) != -1 && checkquest(7270) != -1 &&
		    checkquest(7271) != -1 && checkquest(7272) != -1 && checkquest(7273) != -1 && checkquest(7274) != -1 && checkquest(7275) != -1) {
			mes "[Cleanyang]";
			mes "Um, the rising cat's ship biscuit spot!";
			mes "Did you collect all fully?";
			mes "I guess this is pretty enough.";
			next;
			mes "[Cleanyang]";
			mes "Just take all finding cat's ship biscuit.";
			mes "Taste is not bad and have a resilient too...";
			next;
			mes "[Cleanyang]";
			mes "Ok today's work is enough. Please come tomorrow!";
			mes "There will be tomorrow's cat's ship biscuit!";
			mes "Nya hahahong~";
			setquest 7267;
			erasequest 7268;
			erasequest 7261;
			erasequest 7262;
			erasequest 7263;
			erasequest 7269;
			erasequest 7270;
			erasequest 7271;
			erasequest 7272;
			erasequest 7273;
			erasequest 7274;
			erasequest 7275;
			getexp 30000,40000;
			getitem 12636,10; //Malang_Sp_Can
			close;
		}
		mes "[Cleanyang]";
		mes "Did you find all of them?";
		next;
		mes "[Cleanyang]";
		mes "Someone think that good angel took them all as I collected and threw away.";
		mes "He still hide them that place.";
		next;
		mes "[Cleanyang]";
		mes "It is so easy because I don't have to search everywhere, but";
		mes "please search the 9 spot where hiding frequently.";
		close;
	case 3:
		mes "[Cleanyang]";
		mes "Meooow-!";
		mes "What are you doing? Meow!";
		mes "Goreureureung...";
		next;
		mes "[Cleanyang]";
		mes "Hmhm.";
		mes "Hey, don't do that.";
		mes "...isn't it a crime? Meow.";
		close;
	}
}

mal_in02,29,67,0	script	#CaptainRoom3	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (mal_qook == 1) {
		if (checkquest(7261) == -1) {
			mes "Lots of junk are piled up in a corner of captain's room.";
			mes "Cleanyang might not clean in a corner because it is not within his hand.";
			next;
			mes "[Admiral Thomas]";
			mes "Uh? What are you doing over there?";
			mes "Do not touch that!";
			cutin "ma_tomas03",2;
			next;
			switch(select("Sorry.:I'll clean up!")) {
			case 1:
				mes "[Admiral Thomas]";
				mes "We have a common interest to talk.";
				mes "There is no reason to search there like you.";
				mes "Please leave me alone.";
				cutin "ma_tomas01",2;
				cutin "ma_tomas03",255;
				break;
			case 2:
				cutin "ma_tomas03",255;
				mes "Ignoring Thomas and search under the junk.";
				mes "And at that time...";
				next;
				emotion e_omg;
				mes "The place where the black shadow just passed, I don't how long been it is left.";
				mes "Find a cat's ship biscuit.";
				switch(rand(3)) {
					case 0: monster "mal_in02",30,67,"Quick Dark Shadow",2209,1;
					case 1: monster "mal_in02",30,65,"Quick Dark Shadow",2209,1;
					case 2: monster "mal_in02",29,65,"Quick Dark Shadow",2209,1;
				}
				setquest 7261;
				getitem 11536,1; //Cat_Hard_Biscuit
				next;
				if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1) {
					mes "I guess I searched pretty enough.";
					mes "Let's tell Cleanyang that is infested of insects due to cat's ship biscuit is left long time.";
					close;
				}
				mes "It was one of reason that the insects are appeared.";
				close;
			}
		}
		mes "It used to be habitat of insects because someone left cat's ship biscuit.";
		mes "I think it's ok now due to we removed all of them.";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7261) == -1) {
			mes "Lots of junk are piled up in a corner of captain's room.";
			mes "Cleanyng might not clean in a corner because it is not within his hand.";
			mes "He reached out and search under the junk.";
			next;
			mes "And at that time...";
			mes "The place where the dark shadow just passed, find a cat's ship biscuit that is hided recently.";
			emotion e_omg;
			switch(rand(3)) {
				case 0: monster "mal_in02",30,67,"Quick Dark Shadow",2209,1;
				case 1: monster "mal_in02",30,65,"Quick Dark Shadow",2209,1;
				case 2: monster "mal_in02",29,65,"Quick Dark Shadow",2209,1;
			}
			setquest 7261;
			getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "It used to be habitat of insects because someone left cat's ship biscuit.";
		mes "I think it's ok now due to we removed all of them.";
		close;
	}
	mes "I don't have any business here.";
	close;
}

mal_in02,183,49,0	script	#MeetingFloor4	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (mal_qook == 1 || checkquest(7268) != -1) {
		if (checkquest(7263) == -1) {
			mes "This is ventilation window on the floor. It is really close to Cooking table";
			mes "I'm trying to ignore that but it is on my mind. What should I do?";
			next;
			switch(select("Just look roughly.:Take a look at this.")) {
			case 1:
				mes "I looked at the ventilation window well, but did not find any problem.";
				close;
			case 2:
				mes "It looks good from the top... I took it off because it's on my mind.";
				mes "I can see something the bottom of way of ventilation.";
				mes "And at that time...";
				next;
				mes "The place where the dark shadow just passed, I don't how long been it is left.";
				mes "Find a cat's ship biscuit.";
				emotion e_omg;
				switch(rand(2)) {
					case 0: monster "mal_in02",182,50,"Quick Dark Shadow",2209,1;
					case 1: monster "mal_in02",184,50,"Quick Dark Shadow",2209,1;
				}
				setquest 7263;
				getitem 11536,1; //Cat_Hard_Biscuit
				if (mal_qook == 1) {
					next;
					if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1) {
						mes "I guess I searched pretty enough.";
						mes "Let's tell Cleanyang that is infested of insects due to cat's ship biscuit is left long time.";
					} else
						mes "It was one of reason that the insects are appeared.";
				}
				close;
			}
		}
		mes "It used to be habitat of insects because someone left cat's ship biscuit.";
		mes "I think it's ok now due to we removed all of them.";
		close;
	}
	mes "I don't have any business here.";
	close;
}

mal_in02,103,22,0	script	#MalBed5	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (mal_qook == 1 || checkquest(7268) != -1) {
		if (checkquest(7262) == -1) {
			mes "This is bed for sailors. There is too much hair and so messy.";
			mes "At the corner of under the bed is does not reached hand so I'm thinking too much about that.";
			next;
			switch(select("Raise the matress slightly.:Search under the bed.")) {
			case 1:
				mes "I slightly push and raise the part that touched edge of wall.";
				mes "And at that time...";
				next;
				mes "The place where the dark shadow just passed, I don't how long been it is left.";
				mes "Find a cat's ship biscuit.";
				emotion e_omg;
				monster "mal_in02",102,23,"Quick Dark Shadow",2209,1;
				setquest 7262;
				getitem 11536,1; //Cat_Hard_Biscuit
				if (mal_qook == 1) {
					next;
					if (checkquest(7261) != -1 && checkquest(7262) != -1 && checkquest(7263) != -1) {
						mes "I guess I searched pretty enough.";
						mes "Let's tell Cleanyang that is infested of insects due to cat's ship biscuit is left long time.";
					} else
						mes "It was one of reason that the insects are appeared.";
				}
				close;
			case 2:
				mes "I searched under the bed, but I didn't find any problem.";
				mes "Maybe Cleanyang cleaned up. It's pretty good condition.";
				close;
			}
		}
		mes "It used to be habitat of insects because someone left cat's ship biscuit.";
		mes "I think it's ok now due to we removed all of them.";
		close;
	}
	mes "The bed for sailors.";
	mes "Lots of cat's hair are attached.";
	close;
}

malangdo,141,178,0	script	#Darkweed6	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7269) == -1) {
			mes "Many weeds are growing in rest area near cat tower.";
			mes "It's easily ignored, so it's on my mind.";
			next;
			switch(select("Search through the weeds.:Search under the chair.")) {
			case 1:
				mes "I decide to search the forest that out of people's eye.";
				mes "And at that time...";
				next;
				mes "From the place where Dark shadow just passed and someone hided recently.";
				mes "Find a cat's ship biscuit.";
				emotion e_omg;
				monster "malangdo",141,178,"Quick Dark Shadow",2209,1;
				setquest 7269;
				getitem 11536,1; //Cat_Hard_Biscuit
				close;
			case 2:
				mes "I searched under the chair in rest area, but I didn't find any problem.";
				mes "It's pretty good condition even though it's outside.";
				close;
			}
		}
		mes "Many weeds are growing in rest area near cat tower.";
		mes "We already collected hiding cat's ship biscuit here.";
		close;
	}
	mes "Many weeds are growing under the cat tower.";
	mes "It seems to be hard to clean.";
	close;
}

malangdo,133,134,0	script	Strange Pile of Sand#7	557,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (checkquest(7268) != -1) {
		set .@quest, (strnpcinfo(0) == "Strange Pile of Sand#7")?7270:7275;
		if (checkquest(.@quest) == -1) {
			mes "The pile of sand is billowed like a grave. Should be something in there.";
			mes "According to rumors, cats have a habit to bury with sand after stool...";
			next;
			switch(select("Avoid this dirty place.:Darn it-!")) {
			case 1:
				mes "[" + strcharinfo(0) + "]";
				mes "Right!";
				mes "It may be cat's grave... Do not touch them!";
				mes "Avoid, avoid~";
				break;
			case 2:
				mes "Close eyes and start to dig that pile of sand!";
				mes "Therefore, something came out quickly from there and disappeared.";
				mes "And...";
				next;
				mes "From the place where Dark shadow just passed and someone hided recently.";
				mes "Find a some chips of cat's ship biscuit.";
				setquest .@quest;
				if (!rand(3)) {
					emotion e_omg;
					getmapxy(.@map$,.@x,.@y,1);
					monster .@map$,.@x,.@y,"Quick Dark Shadow",2209,1;
				} else
					getitem 11536,1; //Cat_Hard_Biscuit
				close;
			}
		}
		mes "We already collected buried cat's ship biscuit.";
		close;
	}
	mes "- Looks so strange. -";
	mes "- That's it... -";
	close;
}
malangdo,197,237,0	duplicate(Strange Pile of Sand#7)	Strange Pile of Sand#12	557

malangdo,232,131,0	script	#UnderStairs8	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7271) == -1) {
			mes "Some weeds are growing under the low stairs.";
			mes "It's really hard to find something fell under the stairs..";
			next;
			mes "To lie flat and look under the stairs carefully.";
			mes "And at that time...";
			next;
			mes "From the place where Dark shadow just passed and someone hided recently.";
			mes "Find a some chips of cat's ship biscuit.";
			setquest 7271;
			if (!rand(3)) {
				emotion e_omg;
				monster "malangdo",231,130,"Quick Dark Shadow",2209,1;
			} else
				getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "Sometimes, someone played with pulling people's ankle under the stairs";
		mes "Now, I can't see mischievous boys or any strange thing.";
		next;
		mes "We already collected buried cat's ship biscuit.";
		close;
	}
	mes "Out of people's hand under the stairs.";
	mes "Sometimes, I look around there when I search for lost toys.";
	close;
}

mal_in01,74,20,0	script	#CornerTower9	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7272) == -1) {
			mes "This cat tower is for playing and resting.";
			mes "Dust is piled up because there is gap between the foothold and ground.";
			next;
			mes "Push the thin and long rod in the gap and search something.";
			mes "And at that time...";
			next;
			mes "From the place where Dark shadow just passed and someone hided recently.";
			mes "Find a some chips of cat's ship biscuit.";
			setquest 7272;
			if (!rand(3)) {
				emotion e_omg;
				monster "mal_in01",73,19,"Quick Dark Shadow",2209,1;
			} else
				getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "We already collected buried cat's ship biscuit.";
		close;
	}
	mes "There are cat's bed near cat tower.";
	mes "Specially, some cats love an out of the way place.";
	close;
}

mal_in01,159,225,0	script	#CornerLocker10	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7273) == -1) {
			mes "In the corner of the gap between the wall and locker that is used by cat's gamers,";
			mes "I can see something there. It's really hard to find object if drop there.";
			next;
			mes "Push the thin and long rod in the gap and search something.";
			mes "And at that time...";
			next;
			mes "From the place where Dark shadow just passed and someone hided recently.";
			mes "Find a some chips of cat's ship biscuit.";
			setquest 7273;
			if (!rand(3)) {
				emotion e_omg;
				monster "mal_in01",159,225,"Quick Dark Shadow",2209,1;
			} else
				getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "We already collected buried cat's ship biscuit.";
		close;
	}
	mes "The corner of gap is between locker that is used by cat's gamers and wall.";
	mes "If drop kind of small toys there, never find them at all.";
	close;
}

mal_in01,24,72,0	script	#FootholdTower11	844,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (checkquest(7268) != -1) {
		if (checkquest(7274) == -1) {
			mes "This cat tower is for playing and resting in Malangdo.";
			mes "Dust is piled up because there is gap between the foothold and ground.";
			next;
			mes "Push the thin and long rod in the gap and search something.";
			mes "And at that time...";
			next;
			mes "From the place where Dark shadow just passed and someone hided recently.";
			mes "Find a some chips of cat's ship biscuit.";
			setquest 7274;
			if (!rand(3)) {
				emotion e_omg;
				monster "mal_in01",24,71,"Quick Dark Shadow",2209,1;
			} else
				getitem 11536,1; //Cat_Hard_Biscuit
			close;
		}
		mes "There is mark that shows something used to be jammed in gap of foothold in very bottom of cat tower.";
		mes "We already collected buried cat's ship biscuit.";
		close;
	}
	mes "This cat tower is for playing and resting in Malangdo.";
	mes "When I look cats on the cat tower, It looks like a tree landen with cats...";
	close;
}

// Help Chef Nyas :: mal_day_qook
//============================================================
mal_in02,187,58,3	script	Chef Nyas	548,{
	if (checkweight(1201,1) == 0) {
		mes "- You have too many items so you can't continue the quest. -";
		close;
	}
	if (BaseLevel < 60) {
		mes "[Chef Nyas]";
		mes "What is going on boy?";
		mes "I don't want to talk to you. Get away from me!";
		next;
		mes "I'm ignored by uncomfortable cat.";
		mes "May not ignored if I'm getting stronger...";
		close;
	}
	if (mal_qook < 2) {
		mes "[Chef Nyas]";
		mes "I'm a unique chef in entire fleet.";
		mes "Do you want something from me?";
		next;
		mes "[Chef Nyas]";
		mes "Even though I have no time to spare, I usually serve a plate of soup gladly, but now!";
		mes "The ingredient is infested with worms cause of one stupid's carelessness!";
		next;
		mes "[Chef Nyas]";
		mes "Therefore, when my blaze of anger becomes quiet like a calm sea, come back again!";
		mes "By the way, where is that stupid!";
		close;
	} else if (mal_qook == 2) {
		mes "[Chef Nyas]";
		mes "I'm a unique chef in entire fleet.";
		mes "Do you want something from me?";
		next;
		switch(select("Show the cat's ship biscuit.:Talk about story of Cleanyang.")) {
		case 1:
			mes "[Chef Nyas]";
			mes "Hm? is this cat's ship biscuit?";
			mes "Specially, I can feel the flow of time from this biscuit.";
			mes "By the way, how can you have this?";
			next;
			mes "He is telling the story that place where he found cat's ship biscuit and";
			mes "Explain the Cleanyang's story.";
			next;
			break;
		case 2:
			mes "[Chef Nyas]";
			mes "Why that stupid?";
			mes "Are you trying to make a thunder storm in the calm sea?!";
			next;
			mes "Pacify an angry chef";
			mes "Explain a misunderstanding about Cleanyang and tell whole story of cat's ship biscuit.";
			next;
			break;
		}
		mes "[Chef Nyas]";
		mes "So this is happening because of cat buscuit?";
		mes "Yes, is this story about that?";
		next;
		select("You are quick understand.");
		mes "[Chef Nyas]";
		mes "..........He is such a jerk!";
		mes "In addition, What? Find another one in captain's room?!";
		next;
		mes "[Chef Nyas]";
		mes "Thomas......";
		mes "He has position that should take the lead to sailors, but he got a wrong?";
		mes "Ududuk.";
		next;
		mes "[Chef Nyas]";
		mes "This cat's ship biscuit was! Always thankful food to help our starvation during a long sailing!";
		mes "No matter what taste, It always saves us at crossroads of life and death!";
		next;
		mes "[Chef Nyas]";
		mes "Although the situation is not able to use fire for a month, two month even 1000 days!";
		mes "This is blessed food to guarantee on open sea!";
		next;
		mes "[Chef Nyas]";
		mes "How many chef cats have difficult time to make a cat's ship biscuit!";
		mes "The military discipline has been relaxed because we settled down on island! Already forget the dangerous situation?!";
		next;
		mes "Chef is outraged and very upset.";
		mes "He mumbled and made a threatening sound with grind his teeth.";
		mes "Come back later when he calms down.";
		set mal_qook,3;
		erasequest 7264;
		setquest 7265;
		close;
	} else if (mal_qook == 3) {
		if (!rand(3)) {
			mes "[Chef Nyas]";
			mes "There you are? I made a bad break.";
			mes "I made a big decision when you are out for me.";
			next;
			mes "[Chef Nyas]";
			mes "After settled down on Island, depraved mindset cause of plentiful foods.";
			mes "Therefore, I'll change the menu that cat's ship biscuit is provided for one meal a day!.";
			next;
			mes "[Chef Nyas]";
			mes "That ingredient is needed to make cat's ship biscuit.";
			mes "There is no wheat on this island, so I need to get your help.";
			next;
			mes "[Chef Nyas]";
			mes "Anything is possible to grind flour and knead dough.";
			mes "Please bring that kind of ^4d4dff10 Grain^000000 and ^4d4dff 1 Plain Sauce^000000.";
			mes "Replace salt with seawater..";
			next;
			mes "[Chef Nyas]";
			mes "Could we get them easily on land?";
			mes "I'll get the rest what I need.";
			next;
			mes "[Chef Nyas]";
			mes "I'll fix their taste that is crazy for canned food.";
			mes "He approached like a calm sea that has horrible thunder storm";
			mes "I'll give a pain like a god of sea's anger! Kmeow~~!!";
			next;
			mes "A look of chef is quite serious.";
			mes "Let me tell Cleanyang about the result first.";
			set mal_qook,4;
			erasequest 7265;
			setquest 7266;
			close;
		}
		mes "Chef is still trying to soothe his anger.";
		mes "Maybe need more time.";
		close;
	} else if (mal_qook == 4) {
		if (countitem(577) >= 10 && countitem(7454) > 0) {
			mes "[Chef Nyas]";
			mes "Finally here. Wow, this land is pretty different.";
			mes "That is enough to process.";
			next;
			mes "[Chef Nyas]";
			mes "If you are ok, I want to get these food everyday.";
			mes "If you don't mind, just come back tomorrow.";
			delitem 577,10; //Grain
			delitem 7454,1; //Plain_Sauce
			set mal_qook,5;
			erasequest 7266;
			setquest 7276;
			close;
		}
		mes "[Chef Nyas]";
		mes "That ingredient is needed to make cat's ship biscuit.";
		mes "There is no wheat on this island, so I need to get your help.";
		next;
		mes "[Chef Nyas]";
		mes "Anything is possible to grind flour and knead dough.";
		mes "Please bring that kind of ^4d4dff10 Grain^000000 and ^4d4dff 1 Plain Sauce^000000.";
		mes "Replace salt with seawater...";
		close;
	}
	mes "[Chef Nyas]";
	mes "There you are.";
	mes "It's not mealtime... Why are you here?";
	next;
	switch(select("What's today's work?:Food Delivery:Just bored...")) {
	case 1:
		if (checkquest(7276,PLAYTIME) == 0) {
			mes "[Chef Nyas]";
			mes "Now, cat's ship biscuit is being baked in this oven.";
			mes "It's all for your delivery food.";
			next;
			mes "[Chef Nyas]";
			mes "Quiet wave with a little salty and savory smell.";
			mes "The food of sea is coming to make sailor's heart flutter.";
			next;
			mes "[Chef Nyas]";
			mes "I've got enough ingredients of cat's ship biscuit today.";
			mes "Let me order next time.";
			close;
		}
		if (mal_food > 0) {
			mes "[Chef Nyas]";
			mes "Um? You are dull.";
			mes "You already took my order list?";
			mes "Just take care of them.";
			close;
		}
		if (checkquest(7276,PLAYTIME) == 2)
			completequest 7276;
		mes "[Chef Nyas]";
		mes "Here you are.";
		mes "I need ingredients for cat's ship biscuit now. Fortunately, you are here at the right moment.";
		if (checkquest(7276) != -1)
			erasequest 7276;
		next;
		mes "[Chef Nyas]";
		mes "Could you bring some ingrediednts for cat's ship biscuit from land?";
		mes "If you say so, I have one more thing to request...";
		next;
		switch(select("I'm busy today.:Sure, what are you need?")) {
		case 1:
			mes "[Chef Nyas]";
			mes "That is sad news.";
			mes "However, it's ok. Cat's ship biscuit is originally prepared food.";
			mes "Anyway, today's biscuit wll be provided when the second moon is full.";
			next;
			switch(select("So teeth grinder?:Worm castle...:Do not throw away?")) {
			case 1:
				mes "[Chef Nyas]";
				mes "What do you want to hear from me?!";
				mes "Kmeow!!";
				mes "The hardness of cat's ship biscuit is like a noble endurance in the sea!";
				mes "Do not ignore this!!";
				close;
			case 2:
				mes "[Chef Nyas]";
				mes "Only idiot who does not take care of preserving says like that.";
				mes "Dry enough and seal it in cool dry place. Tut-tut.";
				next;
				mes "[Chef Nyas]";
				mes "Anyway Is that all about protein?";
				mes "Why don't you eat at night if it's on your mind!";
				close;
			case 3:
				mes "[Chef Nyas]";
				mes "Never throw food!";
				mes "When you are hit by cat's ship biscuit, you will get bruise or bleeding but";
				mes "It is not that reason!!!";
				mes "Do not play with food!";
				close;
			}
		case 2:
			if (mal_food == 0) {
				mes "[Chef Nyas]";
				mes "The ingredients of cat's ship biscuit are 10 Grain and 1 Plain Sauce as usual.";
				mes "And I'd like to study food of human, so bring one of them.";
				next;
				mes "[Chef Nyas]";
				mes "My curious food is...";
				set .@i, rand(1,66);

				// IDs grouped in 5s incrementally.
				setarray .@StartID[0],12061,12091,12041,12071,12056,12086,12051,12081,12046,12076,12066,12096,12429,12434;
				mes "^4d4dff "+getitemname(.@StartID[(.@i-1)/5]+((.@i-1)%5))+" ^000000 .";

				set mal_food,.@i;
				setquest 7280+.@i;
				mes "Just one dish is enough, so please do it together.";
				next;
				mes "[Chef Nyas]";
				mes "You have to bring the dish that made from fresh ingredients.";
				mes "^ff0000I will refuse the instant food.^000000";
				close;
			}
			mes "[Chef Nyas]";
			mes "Hey my friend, you have a bad memory.";
			mes "Did you already take my order list?";
			close;
		}
	case 2:
		if (mal_food == 0) {
			mes "[Chef Nyas]";
			mes "Do you remember what I ask to bring?";
			mes "I have no idea.";
			close;
		} else if (mal_food > 66) {
			mes "[Chef Nyas]";
			mes "What did I say to bring?";
			mes "I don't remember?";
			mes "Did you get something wrong to come here?";
			close;
		}
		mes "[Chef Nyas]";
		mes "Is that ingredients of cat's ship biscuit and the food of human?";
		mes "Let me check what you brought...";
		next;
		set .@i, mal_food;

		// IDs grouped in 5s incrementally.
		setarray .@StartID[0],12061,12091,12041,12071,12056,12086,12051,12081,12046,12076,12066,12096,12429,12434;
		set .@food, .@StartID[(.@i-1)/5]+((.@i-1)%5);

		if (countitem(577) >= 10 && countitem(7454) > 0 && countitem(.@food) > 0) {
			mes "[Chef Nyas]";
			mes "Great.";
			mes "This is that food!";
			mes "It will be good reference. Well done.";
			delitem 577,10; //Grain
			delitem 7454,1; //Plain_Sauce
			delitem .@food,1;
			setquest 7276;
			set mal_food,0;
			erasequest 7280+.@i;
			
			// Quantities grouped in 10s repeating.
			// [ 3, 3, 6, 6, 9, 9, 12, 12, 15, 18 ]
			// Last group [ 61 - 66 ] receives 25 constant.
			getitem 6422, ((.@i < 61)?((.@i%10)?3*(((.@i%10)+1)/2):18):25); //Egrade_Coin

			getexp 50000,80000;
			next;
			mes "[Chef Nyas]";
			mes "Alright, could you come tomorrow?";
			mes "When the time to you coming, I'm very excited.";
			mes "Nyahuh Nyahuh";
			close;
		}
		mes "[Chef Nyas]";
		mes "Yummm...";
		mes "Did I overestimate your ability?";
		mes "Double check what is short and bring them properly.";
		next;
		mes "[Chef Nyas]";
		mes "There is not different from undiscerning young cat.";
		close;
	case 3:
		mes "[Chef Nyas]";
		mes "You are quite bold like a killer whale.";
		mes "If you don't have any business, don't touch vegetable and go away.";
		close;
	}
}

// Play with Baby Cats :: mal_nyadventurer
//============================================================
malangdo,165,223,4	script	Expert Cat#nya_01	561,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 4000) {
		mes "- You have too many items to proceed in this quest. -";
		close;
	}
	if (BaseLevel < 60) {
		mes "[Rato]";
		mes "Seems like a visitor.";
		mes "How does this island look?";
		mes "It is hard to believe, but this ground is very soft, so we named this island Malangdo.";
		next;
		mes "[Rato]";
		mes "If you were a more professional adventurer, I'd ask you one thing...";
		mes "Well, I won't do it.";
		close;
	}
	if (nyadven == 0) {
		mes "[Rato]";
		mes "Hey there.";
		mes "I am Rato, do you have a moment?";
		next;
		switch(select("Yeah, sure I do.:I'm sorry, but I'm busy right now.")) {
		case 1:
			mes "[Rato]";
			mes "Well, nothing special, but could you do me a favor?";
			mes "Did you see the kids gathered on your way here?";
			next;
			select("Kids?");
			mes "[Rato]";
			mes "Yes yes, baby kids.";
			mes "They are the youngest kids among the merchants and crews.";
			mes "They feel anxious that they might not be able to go back home.";
			next;
			mes "[Rato]";
			mes "And they are getting bored of living on this small island.";
			mes "They already tasted sea and adventure...";
			next;
			mes "[Rato]";
			mes "They used to play with making things, but seem tired of that also...";
			mes "If it's okay, would you play with them for a while?";
			next;
			switch(select("Uh, sure...:I don't have enough time for that.")) {
			case 1:
				mes "[Rato]";
				mes "Oh, thank you!";
				mes "Then, where are they?";
				mes "Maybe near Beginning Compass...?";
				next;
				mes "[Rato]";
				mes "They are so active that I am not sure where they are now.";
				break;
			case 2:
				mes "[Rato]";
				mes "Oh, really?";
				mes "It's okay even though you cannot do this right now.";
				break;
			}
			mes "If you meet them, please spend time with them.";
			next;
			mes "[Rato]";
			mes "The youngest one is Charo, with gold fur.";
			mes "Roku has black fur, and Rosy has white fur.";
			mes "Please take care of them.";
			set nyadven,1;
			setquest 7242;
			close;
		case 2:
			mes "[Rato]";
			mes "Oh, really?";
			mes "I am sorry for disturbing you.";
			close;
		}
	} else if (nyadven == 1) {
		mes "[Rato]";
		mes "The youngest one is Charo, with gold fur.";
		mes "Roku has black fur, and Rosy has white fur.";
		next;
		mes "[Rato]";
		mes "We can look forward to the moment we can go back home if these children grow up nicely.";
		mes "For that reason, please take care of them.";
		close2;
	} else if (nyadven < 13) {
		mes "[Rato]";
		mes "Do kids disturb you too much?";
		mes "What... adventurer group? Did you play with toys from the adventurer group?";
		next;
		mes "[Rato]";
		mes "I really worried about them the first time we were shipwrecked to this island...";
		mes "They thought the first voyage was huge adventure...";
		next;
		mes "[Rato]";
		mes "They look excited, like they got a fever.";
		mes "It seems like yesterday that I made toys for them and soothed them...";
		next;
		mes "Rato seems to be in brown study.";
		close;
	} else if (nyadven == 13) {
		if (countitem(6430) < 6) {
			mes "You didn't bring the pieces of the painting.";
			mes "Please take it with you.";
			close;
		}
		mes "[Rato]";
		mes "What's going on?";
		mes "It should be very hard to take care of the kids even though I asked you, isn't it?";
		mes "I am sorry, I should take care of them...";
		next;
		mes "You hand Rato a piece of painting.";
		next;
		mes "[Rato]";
		mes "Oh, this is a piece of painting?";
		mes "Ah!!!";
		mes "Has this painting been torn up already?";
		next;
		mes "[Rato]";
		mes "Did they say this is a gift for me?";
		mes "Huhhuh, a piece of painting?";
		mes "HAHAHAHAHA!";
		next;
		mes "[Rato]";
		mes "Okay, I will patch up this painting by myself.";
		mes "They are still the same.";
		mes "I think I should worry about myself first...";
		next;
		mes "[Rato]";
		mes "It's very kind of you to play with the kids.";
		mes "This is for you.";
		delitem 6430,6; //Picture_Piece
		set nyadven,14;
		getitem 6422,100; //Egrade_Coin
		completequest 7259;
		next;
		mes "[Rato]";
		mes "I owe you a big favor!";
		mes "Let's drink today!";
		mes "Miaow~";
		close;
	} else {
		mes "[Rato]";
		mes "Hey, how's it going? If you have time please look at it.";
		next;
		switch(select("Look at a picture.:Don't look at a picture.")) {
		case 1:
			mes "[Rato]";
			mes "Yes, they drew this picture full of happiness.";
			next;
			cutin "mal_nyapic",4;
			mes "Appreciate the picture in the frame.";
			close2;
			cutin "",255;
			end;
		case 2:
			mes "[Rato]";
			mes "Why don't you look at such a nice picture?";
			mes "I'm disapointed.";
			close;
		}
	}
}

malangdo,211,203,4	script	[Meow Team] Charo#nya_11	560,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 4000) {
		mes "- You have too many items to proceed in this quest. -";
		close;
	}
	if (nyadven == 0) {
		mes "There are gathered cats who seems younger than other crews.";
		mes "They are having a serious conversation about the weird machine in front of them.";
		close;
	} else if (nyadven == 1) {
		mes "There are gathered cats who seems younger than other crews.";
		mes "They are having a serious conversation about the weird machine in front of them.";
		mes "They are looks like kids who Rato told me.";
		next;
		switch(select("Just watch them without a word.:Busy right now.")) {
		case 1:
			mes "You try to listen to the conversation without disturbing them.";
			next;
			mes "[Charo]";
			mes "When will it be fixed? When it will be done?";
			mes "Isn't this the last one?";
			next;
			mes "[Rosy]";
			mes "Um... you don't even get tried of it?";
			mes "Anyway, we are in trouble.";
			mes "The glass bead is broken.";
			next;
			mes "[Roku]";
			mes "Don't we have an extra glass bead?";
			next;
			mes "[Rosy]";
			mes "No, we don't have any.";
			mes "We can't fix this without it, right?";
			next;
			mes "The cats look your way at the same time.";
			next;
			switch(select("I have a spare Glass Bead!:Why are you guys staring at me?")) {
			case 1:
				if (countitem(746) == 0) {
					mes "[Roku]";
					mes "There is no glass bead.";
					mes "Don't lie to us.";
					close;
				}
				mes "[Charo]";
				mes "Really? Oh, really?";
				mes "It's a bead! And a shining glass bead as well!";
				next;
				mes "[Rosy]";
				mes "Hmm. This is enough to replace it.";
				mes "Like this...";
				next;
				mes "[Roku]";
				mes "And then here, this?";
				mes "Done.";
				next;
				mes "[Charo]";
				mes "Exciting!!!";
				mes "Okay, adventurer! We'll give you the right to use this machine!";
				mes "Try this whenever you want to!!";
				next;
				mes "[Charo]";
				mes "Advanturer! This is a delicious can.";
				mes "You can get whatever you want with cans in this island. It is tradable.";
				mes "Rosy, Roku and I collected them.";
				next;
				mes "[Charo]";
				mes "And adventurer!";
				mes "If you were a real adventurer,";
				mes "you would clear all Nyadventures";
				mes "made by the Meow Bravery Team!";
				mes "Challenge it whenever you want to!";
				delitem 746,1; //Glass_Bead
				set nyadven,2;
				getitem 12636,30; //Malang_Sp_Can
				close;
			case 2:
				mes "[Rosy]";
				mes "We are just looking at you as you stand there.";
				close;
			}
		case 2:
			mes "I'll come again later.";
			close;
		}
	} else if (nyadven == 2) {
		mes "[Charo]";
		mes "We fixed the Duruduru compass, we only need a visitor now...";
		mes "Hey, do you want to be a visitor?";
		emotion e_gasp;
		next;
		select("A visitor?");
		mes "[Charo]";
		mes "This is an adventure course made by the Meow adventure team.";
		mes "Especially we have added studying course this time.";
		mes "It's simple to solve, you only need to find compass in this island according to order.";
		next;
		switch(select("I'll give it a try.:Quit.")) {
		case 1:
			mes "[Charo]";
			mes "Here is your Adventure Card.";
			mes "This is the Duruduru Compass which we fixed with the glass bead you gave us.";
			mes "And this is the Beginning Compass.";
			next;
			mes "[Charo]";
			mes "The game will start if you put the Adventure Card in here!";
			mes "This machine is for testing essential ingredients of adventure.";
			next;
			mes "[Charo]";
			mes "Don't forget the destination for successful adventure.";
			mes "And you should find a way to get to your destination as fast as possible.";
			next;
			mes "[Charo]";
			mes "You will be good, as you are a good person for giving us the glass bead.";
			next;
			mes "Got Adventure Card from the yellow cat Charo.";
			mes "It seems to work if I put this card in the slot in the Beginning Compass.";
			set nyadven,3;
			getitem 6428,1; //Bravery_Card_A
			changequest 7242,7243;
			next;
			mes "[Charo]";
			mes "The game will start if you scratch Adventure Card to the Beginning Compass!";
			mes "The Beginning Compass will let you know where you should go.";
			next;
			mes "[Charo]";
			mes "^4d4dffIf you go through all the compasses, you will see Meowbell from the ship Navi at last!";
			mes "Ring the New bell!^000000";
			close;
		case 2:
			mes "[Charo]";
			mes "Ah... you are not going to do it...";
			mes "Um...";
			mes "Sob~";
			mes "Meow~";
			next;
			mes "[Rosy]";
			mes "Hey, adventurer. Don't make kids cry!";
			close;
		}
	} else if (nyadven == 3) {
		if (nyadven02 == 28) {
			mes "[Charo]";
			mes "Oh? Isn't this failed stamp from Bubi?";
			mes "I'm really disappointed.";
			mes "Try again~ you can make it!";
			set nyadven02,0;
			if (checkquest(7257) > -1)
				erasequest 7257;
			close;
		}
		mes "[Charo]";
		mes "The game will start if you scratch Adventure Card to the Beginning Compass!";
		mes "The Beginning Compass will let you know where you should go.";
		next;
		mes "[Charo]";
		mes "^4d4dffIf you go through all the compasses, you will see Meowbell from the ship Navi at last!";
		mes "Ring the New bell!^000000";
		close;
	} else if (nyadven == 4) {
		if (countitem(6428) == 0) {
			mes "[Charo]";
			mes "Where is your Adventure Card?";
			mes "You should bring it with you.";
			mes "You can't be serious that you threw it away with your other trash!!";
			close;
		}
		mes "[Charo]";
		mes "I heard it!";
		mes "I heard sound of Meowbell!";
		mes "You are great!";
		mes "The next will be a big case!";
		next;
		select("The next?");
		mes "[Charo]";
		mes "You are member of the Meow Bravery Team while you have the card with you.";
		mes "We need an adventurer like you anyways, since this is a big case.";
		next;
		mes "[Charo]";
		mes "It's for the cuff.";
		mes "It seems a bomb is planted in this island.";
		mes "The detective has went for this case already.";
		next;
		mes "[Charo]";
		mes "You should go there too!";
		next;
		switch(select("Why do I have to go there?:What an adventure! I'll take it!")) {
		case 1:
			mes "[Charo]";
			mes "This is a big case!";
			mes "And this island could explode!";
			mes "Oh, you might shut your eyes to the fact.";
			mes "Give the Adventure Card back!";
			delitem 6428,1; //Bravery_Card_A
			set nyadven,5;
			erasequest 7243;
			close;
		case 2:
			mes "[Charo]";
			mes "You have great capabilities as an adventurer!";
			mes "Please help detective and his friend who got in trouble and also save this island!";
			next;
			mes "[Charo]";
			mes "But be sure this should be done undercover!";
			mes "Therefore you need to take this certification.";
			mes "It shouldn't happen that the detective misunderstands you as an enemy!";
			next;
			mes "- Changed Adventure Card A into Adventure Card B. -";
			delitem 6428,1; //Bravery_Card_A
			set nyadven,6;
			getitem 6429,1; //Bravery_Card_B
			setquest 7246;
			erasequest 7243;
			next;
			mes "[Charo]";
			mes "The great detective and his friend will be around the ship Navi.";
			close;
		}
	} else if (nyadven == 5) {
		mes "[Charo]";
		mes "Do you feel a disposition to help the detective and his friend?";
		mes "Don't you?";
		next;
		switch(select("Yes I do.:No I don't.")) {
		case 1:
			mes "[Charo]";
			mes "You have great capabilities as an adventurer!";
			mes "Please help detective and his friend who got in trouble and also save this island!";
			next;
			mes "[Charo]";
			mes "But be sure this should be done undercover!";
			mes "Therefore you need to take this certification.";
			mes "It shouldn't happen that the detective misunderstands you as an enemy!";
			next;
			mes "- Changed Adventure Card A into Adventure Card B. -";
			set nyadven,6;
			getitem 6429,1; //Bravery_Card_B
			setquest 7246;
			next;
			mes "[Charo]";
			mes "The great detective and his friend will be acound ship Navi.";
			close;
		case 2:
			mes "[Charo]";
			mes "Oh my god, the great detective and the ship Navi...";
			close;
		}
	} else if (nyadven > 5 && nyadven < 12) {
		mes "[Charo]";
		mes "The great detective and his friend will be around the ship Navi.";
		close;
	} else if (nyadven == 12) {
		mes "[Charo]";
		mes "I have been waiting for you...~";
		mes "Oh, I am short of breath from coming here in a hurry.";
		mes "Hmph... Meow...";
		next;
		mes "[Charo]";
		mes "Don't you have anything to show me?";
		mes "Let me see it quickly!";
		mes "Take it out!";
		next;
		if (countitem(6430) < 6) {
			mes "[Charo]";
			mes "What? You don't have it?";
			mes "It can't be true.";
			mes "Surely you took this with you...";
			next;
			mes "[Rosy]";
			mes "How come it happened?";
			mes "This painting is very important for us.";
			mes "Please give it back to us.";
			close;
		}
		mes "[Charo]";
		mes "Yes, this is it!";
		mes "This is our...";
		mes "But, how do we put the broken pieces together?";
		next;
		mes "[Rosy]";
		mes "We need a board and glue as well to put it together.";
		mes "That's too troublesome to just give it away!";
		next;
		mes "[Roku]";
		mes "Rato, looks like he is happy.";
		mes "He will understand.";
		next;
		mes "[Charo]";
		mes "Really...?";
		mes "There is no Meow team and us without Rato.";
		mes "I feel a little bad to give only pieces of painting but...";
		next;
		mes "[Charo]";
		mes "We have no other way!";
		mes "Rato treated this by himself!";
		mes "No, it's better to ask Rato to put this back together.";
		next;
		mes "[Rosy]";
		mes "Good idea.";
		mes "That's really a good idea.";
		mes "I was getting tired of it.";
		next;
		mes "[Charo]";
		mes "You are a member of the Meow Bravery Team.";
		mes "Please give these pieces of painting to Rato.";
		mes "And tell him to treat it preciously as our treasure...";
		next;
		mes "[Charo]";
		mes "We couldn't make the Bravery Team without Rato.";
		mes "Please.";
		mes "Tell him we didn't forget our home island.";
		set nyadven,13;
		changequest 7258,7259;
		close;
	} else if (nyadven == 13) {
		mes "[Charo]";
		mes "Please give this pating to Rato.";
		mes "We drawed this painting to show Rato.";
		mes "Please.";
		close;
	} else {
		switch(rand(3)) {
		case 0:
			mes "[Charo]";
			mes "Here you are! Our emeritus member of the new Bravery Team!";
			mes "Where did you go for adventure today?";
			mes "Are these adventure stories?!";
			mes "If not, then...";
			next;
			mes "[Charo]";
			mes "You might have come here for the compass race like huge tuna from our Meow Bravery Team!!";
			mes "Meow!";
			close;
		case 1:
			mes "[Charo]";
			mes "Well, Homnya and Nyangson are too difficult for me.";
			mes "...?";
			mes "I meant the book is difficult for me.";
			close;
		case 2:
			mes "[Charo]";
			mes "Do you know how much Rato loves the painting which you have found?";
			mes "He put framed the painting on the wall!";
			mes "Meow~";
			next;
			mes "[Charo]";
			mes "I miss my hometown.";
			mes "But Malangdo is also my hometown as well.";
			mes "I am okay with us all together in here~";
			close;
		}
	}
}

malangdo,214,204,3	script	[Meow Team] Rosy#nya_09	559,{
	if (nyadven < 2) {
		mes "A young cat with white fur tries so hard with the weird machine.";
		mes "The machine might be broken.";
		close;
	} else if (nyadven == 2) {
		mes "[Rosy]";
		mes "Um? The adventurer who brought us the glass bead?";
		mes "I really thank you for that.";
		mes "We could fix the compass with that glass bead.";
		close;
	} else if (nyadven == 3) {
		mes "[Rosy]";
		mes "Adventure Card? Will you do the Duruduru race?";
		mes "It's hard to say it's fun even though we made it.";
		next;
		mes "[Charo]";
		mes "Oh, it's fun! Perfectly fun!";
		mes "I have remodeled it this time!!";
		mes "It will be really fun!!";
		next;
		mes "[Roku]";
		mes "Yes. It's fun, as Charo said.";
		mes "Maybe.";
		mes "...";
		mes "It is.";
		close;
	} else {
		mes "[Rosy]";
		mes "Meow...";
		mes "I feel sleepy today.";
		mes "I've had sore throat these day because I talked too much...";
		next;
		mes "[Rosy]";
		mes "Don't you agree with me, friend?";
		mes "...?";
		mes "Oh, I didn't even realize...";
		next;
		mes "[Rosy]";
		mes "Forget about it!";
		mes "Doesn't this machine ever break?";
		close;
	}
}

malangdo,215,201,3	script	[Meow Team] Roku#nya_10	553,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 4000) {
		mes "- You have too many items to proceed in this quest. -";
		close;
	}
	if (nyadven < 2) {
		mes "A young black cat helps a busy white cat.";
		mes "Maybe the machine is broken.";
		close;
	} else if (nyadven == 2) {
		mes "[Roku]";
		mes "Oh? You are the one who gave us the glass bead.";
		mes "Thanks a lot.";
		mes "I am happy, too, because Charo looks happy.";
		close;
	} else if (nyadven == 3) {
		mes "[Roku]";
		mes "Charo likes it.";
		mes "It will be fun.";
		close;
	} else if (nyadven == 4) {
		mes "[Roku]";
		mes "Charo has been waiting for so long.";
		mes "To Charo...";
		close;
	}
	mes "[Roku]";
	mes "Do you have something to tell me?";
	next;
	switch(select("Report results of the race.:Challenge the race.:Nothing.")) {
	case 1:
		if (countitem(6428) == 0) {
			mes "[Roku]";
			mes "Bubi, no confirmation stamps and card.";
			mes "You will be in trouble if you are like this.";
			close;
		}
		if (nyadven02 == 27) {
			mes "[Roku]";
			mes "Good job.";
			mes "You are very smart.";
			mes "This is a gift for you.";
			mes "Please come tomorrow again.";
			next;
			mes "[Roku]";
			mes "Charo likes you so much.";
			mes "He will be happy if you come.";
			delitem 6428,1; //Bravery_Card_A
			set nyadven02,29;
			getitem 6422,3; //Egrade_Coin
			getexp 20000,20000;
			erasequest 7244;
			erasequest 7245;
			close;
		} else if (nyadven02 == 28) {
			mes "[Roku]";
			mes "Failed...";
			mes "...is it too difficult for you?";
			mes "But the race is available only once a day.";
			delitem 6428,1; //Bravery_Card_A
			erasequest 7244;
			erasequest 7245;
			next;
			switch(select("Give me one more chance!:Okay.I will try tomorrow.")) {
			case 1:
				if (countitem(12636) == 0) {
					mes "[Roku]";
					mes "Um... Um... Well...";
					mes "If you bring a Malangdo Can,";
					mes "I will give you one more chance.";
					close;
				}
				mes "[Roku]";
				mes "Okay. Do you want to exchange 1 Malangdo Can for a Adventure Card?";
				next;
				switch(select("Exchange for Adventure Card A.:Stop it.")) {
				case 1:
					if (countitem(6428)) {
						mes "[Roku]";
						mes "You have it already?";
						close;
					}
					mes "[Roku]";
					mes "Here is your Adventure Card.";
					mes "Beginning Compass, start!";
					delitem 12636,1; //Malang_Sp_Can
					getitem 6428,1; //Bravery_Card_A
					set nyadven02,0;
					if (checkquest(7257) > -1)
						erasequest 7257;
					close;
				case 2:
					mes "[Roku]";
					mes "Okay, come again tomorrow.";
					close;
				}
			case 2:
				mes "[Roku]";
				mes "Okay, come again tomorrow.";
				close;
			}
		} else if (nyadven02 == 29) {
			mes "[Roku]";
			mes "You have reported the result for today already.";
			mes "Right?";
			close;
		} else if (nyadven02 < 27) {
			mes "[Roku]";
			mes "You are too hasty.";
			mes "You didn't even finish the race.";
			mes "It's still going.";
			close;
		} else {
			mes "[Roku]";
			mes "The result is little weird, but...";
			mes "This is neither a complete race nor incomplete race.";
			next;
			mes "[Roku]";
			mes "Is this because of the machine?";
			mes "Let's make void for this race.";
			delitem 6428,1; //Bravery_Card_A
			set nyadven02,0;
			erasequest 7244;
			erasequest 7245;
			close;
		}
	case 2:
		if (nyadven02 == 28) {
			mes "[Roku]";
			mes "You have failed?";
			mes "Do you want to try again?";
			mes "I will delete the report of the failed result.";
		} else {
			if (checkquest(7257,PLAYTIME) == 0 || checkquest(7257,PLAYTIME) == 1) {
				mes "[Roku]";
				mes "No, not yet.";
				mes "Duruduru race is only once for a day.";
				mes "If we do it more often, the machine will break.";
				close;
			}
			mes "[Roku]";
			mes "I know that you will try the Duruduru race.";
			mes "I deleted your last report.";
		}
		if (checkquest(7257) > -1)
			erasequest 7257;
		next;
		mes "[Roku]";
		mes "You need a Adventure Card to challenge again.";
		mes "Do you want to exchange 1 Malangdo Can for a Adventure Card?";
		next;
		switch(select("Buy Adventure Card.:Just stop it.")) {
		case 1:
			if (countitem(6428)) {
				mes "[Roku]";
				mes "You have it already?";
				close;
			}
			if (countitem(12636) == 0) {
				mes "[Roku]";
				mes "There is nothing for free.";
				mes "You need a Malangdo Can.";
				close;
			}
			mes "[Roku]";
			mes "Here is your Adventure Card.";
			mes "Beginning Compass, start!";
			delitem 12636,1; //Malang_Sp_Can
			getitem 6428,1; //Bravery_Card_A
			set nyadven02,0;
			close;
		case 2:
			mes "[Roku]";
			mes "Okay.";
			close;
		}
	case 3:
		mes "[Roku]";
		mes "You are the weird one.";
		close;
	}
}

malangdo,212,204,0	script	Beginning Compass#nya_02	844,{
	if (countitem(6428) == 0) {
		mes "There is a strange machine.";
		mes "The kids said this was the ride called Duruduru compass of the Meow Bravery Team.";
		close;
	}
	if (nyadven02 < 11) {
		mes "An iron pot contains a map of Malangdo with a card inserter.";
		mes "After inserting your card, a red button and the map inside the pot light up.";
		mes "It seems to start after pressing the button.";
		next;
		switch(select("Start it right now.:Start it later.")) {
		case 1:
			mes "The card has come out with lights on the map after pressing the button.";
			if (rand(20) < 10) {
				callsub L_Viewpoint,1,1;
				mes "The game has started already!";
				set nyadven02,11;
				setquest 7244;
				close;
			} else {
				callsub L_Viewpoint,2,1;
				mes "The game has started already!";
				set nyadven02,21;
				setquest 7245;
				close;
			}
		case 2:
			mes "Challenge it a little later.";
			close;
		}
	} else if (nyadven02 >= 11 && nyadven02 <= 15) {
		callsub L_Viewpoint,1,(nyadven02-10);
		close;
	} else if (nyadven02 >= 21 && nyadven02 <= 25) {
		callsub L_Viewpoint,2,(nyadven02-20);
		close;
	} else if (nyadven02 == 16 || nyadven02 == 26) {
		mes "The destination displays with pressing the button after inserting the card.";
		mes "It's above the deck in the middle of the island!";
		close;
	}
	mes "Beginning Compass among the Duruduru compass.";
	mes "The Duruduru race starts from this compass.";
	close;

// callsub L_Viewpoint,<order number>,<start index>;
L_Viewpoint:
	switch(getarg(0)) {
	case 1: // Order 1: Red, Blue, Yellow, Green, White
		setarray .@Colors$[1],"^FF0000","^0000FF","^FFFF00","^00FF00","^cccccc";
		setarray .@Text$[1],"Red","Blue","Yellow","Green","White";
		if (getarg(1) <= 1)
			viewpoint 1,213,89,0,0xFF0000;
		if (getarg(1) <= 2)
			viewpoint 1,128,103,1,0x0000FF;
		if (getarg(1) <= 3)
			viewpoint 1,73,253,2,0xFFFF00;
		if (getarg(1) <= 4)
			viewpoint 1,153,146,3,0x00FF00;
		viewpoint 1,111,178,4,0xcccccc;
		break;
	case 2: // Order 2: Yellow, Blue, White, Green, Red
		setarray .@Colors$[1],"^FFFF00","^0000FF","^cccccc","^00FF00","^FF0000";
		setarray .@Text$[1],"Yellow","Blue","White","Green","Red";
		if (getarg(1) <= 1)
			viewpoint 1,73,253,0,0xFFFF00;
		if (getarg(1) <= 2)
			viewpoint 1,128,103,1,0x0000FF;
		if (getarg(1) <= 3)
			viewpoint 1,111,178,2,0xcccccc;
		if (getarg(1) <= 4)
			viewpoint 1,153,146,3,0x00FF00;
		viewpoint 1,213,89,4,0xFF0000;
		break;
	}
	for(set .@i,1; .@i<=5; set .@i,.@i+1)
		set .@str$, .@str$+((.@i >= getarg(1))?.@Colors$[.@i]:"")+.@Text$[.@i]+" ";
	if (getarg(1) > 1)
		mes "After inserting the card and pressing the red button, the path to the destination lit up.";
	mes "The order will be "+.@str$+"^000000.";
	return;
}

-	script	#malangdo_compass	-1,{
	if (countitem(6428) == 0) {
		mes "There is a strange machine.";
		mes "This is the Duruduru compass from the Meow Bravery Team.";
		close;
	}
	set .@index, atoi(strnpcinfo(2));
	switch(.@index) {
	case 1:
		setarray .@var[0],11,25;
		set .@color$,"red";
		break;
	case 2:
		setarray .@var[0],12,22;
		set .@color$,"blue";
		break;
	case 3:
		setarray .@var[0],13,21;
		set .@color$,"gold";
		break;
	case 4:
		setarray .@var[0],14,24;
		set .@color$,"green";
		break;
	case 5:
		setarray .@var[0],15,23;
		set .@color$,"white";
		break;
	}
	mes "Delicate "+.@color$+" lights surround the "+strnpcinfo(1)+".";
	if (nyadven02 < 11) {
		mes "After inserting the card and pressing the button, characters appear on the screen.";
		next;
		mes "^00FF00This is a card that didn't start the game yet. Please go back to the Beginning Compass.^000000";
		close;
	} else if (nyadven02 == .@var[0] || nyadven02 == .@var[1]) {
		mes "After inserting the card and pressing the button, characters appear on the screen.";
		next;
		mes "Welcome to the exciting number world!";
		mes "Enter the exact answer after reading the question!";
		next;
		while(1) {
			switch(.@index) {
			case 1:
				set .@nori_a, rand(1,999);
				set .@nori_b, rand(1,999);
				set .@nori_c, .@nori_a+.@nori_b;
				mes .@nori_a+" + "+.@nori_b+" = ??";
				break;
			case 2:
				set .@nori_a, rand(1,9);
				set .@nori_b, rand(1,9);
				set .@nori_c, .@nori_a*.@nori_b;
				mes .@nori_a+" x "+.@nori_b+" = ??";
				break;
			case 3:
				set .@nori_a, rand(600,999);
				set .@nori_b, rand(1,599);
				set .@nori_c, .@nori_a-.@nori_b;
				mes .@nori_a+" - "+.@nori_b+" = ??";
				break;
			case 4:
				set .@nori_a, rand(1,99);
				set .@nori_b, rand(1,9);
				set .@nori_d, rand(1,9);
				set .@nori_c, .@nori_a+(.@nori_b*.@nori_d);
				mes .@nori_a+" + "+.@nori_b+" x "+.@nori_d+" = ??";
				break;
			case 5:
				set .@nori_a, rand(1,9);
				set .@nori_c, .@nori_a+(.@nori_a*.@nori_a);
				mes .@nori_a+" + "+.@nori_a+" x "+.@nori_a+" = ??";
				break;
			}
			next;
			input .@input;
			if (.@input == .@nori_c) {
				mes "The card slides out with a sound after entering the number.";
				mes "^4d4dffYou have passed the "+strnpcinfo(1)+"! Run to the next destination!^000000";
				mes "You should run for the next destination.";
				set nyadven02, nyadven02+1;
				close;
			}
			mes "You've got wrong answer!";
			mes "You can not pass here without exact answer!";
			mes "Enter exact answer after read question!";
			next;
		}
	} else if (nyadven02 == 16 || nyadven02 == 26) {
		mes "After inserting the card and pressing the button, characters appear on the screen.";
		next;
		mes "The compass needle turns around in the middle of map.";
		mes "You should run for the next destination.";
		viewpoint 2,1,1,0,0xFFFFFF;
		viewpoint 2,1,1,1,0xFFFFFF;
		viewpoint 2,1,1,2,0xFFFFFF;
		viewpoint 2,1,1,3,0xFFFFFF;
		viewpoint 2,1,1,4,0xFFFFFF;
		viewpoint 1,162,177,5,0xcccccc;
		close;
	} else if ((nyadven02 >= 11 && nyadven02 <= 15) || (nyadven02 >= 21 && nyadven02 <= 25)) {
		mes "After inserting the card and pressing the button, characters appear on the screen.";
		next;
		mes "^FF0000You are going the wrong way! The paths in the card and compass don't line up!^000000";
		close;
	}
	close;
}
malangdo,213,89,0	duplicate(#malangdo_compass)	Red Flame Compass#1	844
malangdo,128,103,0	duplicate(#malangdo_compass)	Blue Flame Compass#2	844
malangdo,73,253,0	duplicate(#malangdo_compass)	Gold Flame Compass#3	844
malangdo,153,146,0	duplicate(#malangdo_compass)	Forest Compass#4	844
malangdo,111,178,0	duplicate(#malangdo_compass)	Cloud Compass#5	844

malangdo,175,163,0	script	Meowbell#nya_12	844,{
	if (countitem(6428) == 0) {
		mes "There is a fancy bell which doesn't fit in with the ship.";
		mes "This bell is used in a game by the Meow Bravery Team.";
		viewpoint 2,1,1,0,0xFFFFFF;
		viewpoint 2,1,1,1,0xFFFFFF;
		viewpoint 2,1,1,2,0xFFFFFF;
		viewpoint 2,1,1,3,0xFFFFFF;
		viewpoint 2,1,1,4,0xFFFFFF;
		viewpoint 2,1,1,5,0xFFFFFF;
		close;
	}
	if (nyadven02 == 16)
		set .@quest,7244;
	else if (nyadven02 == 26)
		set .@quest,7245;
	else {
		mes "There is a one more little bell beside the huge notice bell in the deck.";
		mes "This is the Meowbell from the Meow Bravery Team.";
		next;
		mes "This is last bell to ring if you have the card for the game.";
		mes "Nothing to say for now.";
		close;
	}
	mes "This is the Meowbell.";
	mes "You insert your card into the middle slot.";
	viewpoint 2,1,1,0,0xFFFFFF;
	viewpoint 2,1,1,1,0xFFFFFF;
	viewpoint 2,1,1,2,0xFFFFFF;
	viewpoint 2,1,1,3,0xFFFFFF;
	viewpoint 2,1,1,4,0xFFFFFF;
	viewpoint 2,1,1,5,0xFFFFFF;
	if (checkquest(.@quest,PLAYTIME) == 0 || checkquest(.@quest,PLAYTIME) == 1) {
		mes "Knock Meowbell!!";
		set nyadven02,27;
		changequest .@quest,7257;
		next;
		if (nyadven == 3) {
			mes "[Deckhand Bubi]";
			mes "Oh, I'm suprised.";
			mes "You rang the Meowbell in a short time.";
			mes "I think you have the talent to be an adventurer.";
			next;
			mes "[Deckhand Bubi]";
			mes "People say...";
			mes "The purpose of this Duruduru game";
			mes "is to find and go to a destination quickly and accurately.";
			next;
			mes "[Deckhand Bubi]";
			mes "Go to Charo with that Adventure Card.";
			mes "I will give you a confirmation stamp for success.";
			set nyadven,4;
			close;
		} else {
			mes "[Deckhand Bubi]";
			mes "Oh, you've really gotten used to it.";
			mes "You succeeded again.";
			mes "I've put my paw stamp here.";
			mes "Run to Rato now.";
			close;
		}
	} else {
		mes "-- Beep --";
		mes "The card has out with a warning sound.";
		set nyadven02,28;
		changequest .@quest,7257;
		next;
		mes "[Deckhand Bubi]";
		mes "You didn't ring the Meowbell within time.";
		mes "Well, it's out of my hands now.";
		mes "I will give you the fail stamp!!";
		close;
	}
}

malangdo,176,165,3	script	Deckhand Bubi#nya_16	544,{
	mes "[Bubi]";
	mes "Hey, human adventurer, what are you here for?";
	mes "Yeah~ this is a beautiful view.";
	next;
	mes "[Bubi]";
	mes "Are you one of the people who came here to ring the Meowbell?";
	mes "I am not a member of the Meow Team, but I can give you the confirmation stamp.";
	next;
	mes "[Bubi]";
	mes "Um, my work?";
	mes "Oh, that is only for when I am not on a voyage.";
	mes "I am free these days.";
	close;
}

malangdo,172,178,7	script	Cat Detective#nya_14	560,{
	cutin "mal_homnya_n",2;
	if (nyadven < 6) {
		mes "[Cat Detective]";
		mes "Um? What is the matter?";
		mes "Hey, here is a suspicious guy.";
		next;
		mes "[Cat Detective]";
		mes "I can surely tell he is drunk by the smell of liquid.";
		mes "I am so sad that I can not.";
		next;
		mes "[Friend of Detective]";
		mes "Oh, I am so sorry to hear that you have such genius analytical skills!";
		mes "He is not drunk...";
		next;
		mes "[Cat Detective]";
		mes "Drunks always smell of liquid.";
		mes "But he is not, therefore he is not drunk, friend.";
		next;
		select("Then what is your identity?");
		cutin "mal_homnya_s",2;
		mes "[Cat Detective]";
		mes "Well... You are everything except drunk!!!";
		next;
		mes "The voice of the cats sounded shaky.";
		close2;
	} else if (nyadven == 6) {
		mes "[Cat Detective]";
		mes "What did I say?";
		mes "Didn't I tell you that someone will come here soon?";
		next;
		mes "[Friend of Detective]";
		mes "Great.";
		mes "I can only admire your deduction.";
		next;
		mes "[Detective Homnya]";
		mes "Haha, Nyangson, this is nothing for me.";
		mes "Before that, let's listen to the stories from the visitor first.";
		next;
		switch(select("Charo? Rosy?:Are you guys detectives?")) {
		case 1:
			cutin "mal_homnya_s",2;
			mes "[Homnya]";
			mes "No... Who are they?";
			mes "Nyangson, do you know them?";
			next;
			mes "[Nyangson]";
			mes "I... I don't know either?";
			mes "I don't know Charo and Rosy!";
			next;
			mes "[Homnya]";
			mes "Yes. Yes.";
			mes "We are the detective and friend!";
			next;
			break;
		case 2:
			mes "[Homnya]";
			mes "Yes, I am the detective, Homnya.";
			mes "And this is my friend, Nyangson. He reports my cases.";
			next;
			break;
		}
		mes "[Homnya]";
		mes "Anyways, that's not important for now!";
		mes "We should focus on current situation.";
		next;
		mes "[Nyangson]";
		mes "Yes, that's right, friend.";
		mes "We think........";
		next;
		mes "[Homnya]";
		mes "Yes! This is a bomb for sure!";
		mes "I am so sorry, I have only analytical and detective skills but don't have the skill to dispose of a bomb!";
		next;
		cutin "mal_homnya_s",2;
		mes "[Nyangson]";
		mes "What do you mean by that?";
		mes "It doesn't make any sense!";
		next;
		mes "[Homnya]";
		mes "Yes, we shout when it changed from the peak of hope into the peak of sorrow.";
		mes "Peak!";
		mes "Meow!";
		next;
		mes "I don't get the meaning of this, but they seem to be in hurry.";
		next;
		switch(select("Continue to humor them.:Stop playing around.")) {
		case 1:
			cutin "mal_homnya_n",2;
			mes "[Homnya]";
			mes "Oh, if you give us a hand, I will take it. How do you think about it, friend?";
			next;
			mes "[Nyangson]";
			mes "I don't really care about it. What I want to do is only to report this case.";
			mes "One of the cases will be open to the public among the most strange and weird cases ever.";
			next;
			mes "[Homnya]";
			mes "I knew this visitor had the skill to dispose of a bomb.";
			mes "He is totally prepared to escape from danger.";
			next;
			mes "[Nyangson]";
			mes "Oh, I heard of it. I heard they use fly wings and butterfly wings as well.";
			mes "I've never thought I could meet a person who used these thing for real.";
			next;
			mes "[Homnya]";
			mes "Yes, I believe this visitor will solve our mystery.";
			mes "Then please stop this damn machine!";
			next;
			mes "[Nyangson]";
			mes "Yes, the damn machine!";
			mes "It is loud and useless!";
			mes "And it will be blown up.";
			next;
			mes "[Homnya]";
			mes "Well, stop this machine!!!";
			set nyadven,7;
			changequest 7246,7247;
			close2;
			break;
		case 2:
			cutin "mal_homnya_s",2;
			mes "[Homnya]";
			mes "Please don't...";
			mes "Please act according to the script.";
			next;
			mes "[Nyangson]";
			mes "Charo. Where is the script?";
			mes "No, Homnya. My friend...";
			next;
			mes "Two young cats are sweating a lot.";
			close2;
			break;
		}
	} else if (nyadven == 7) {
		mes "[Homnya]";
		mes "Stop this noisy machine!";
		mes "This is the moment that your memory can be coming through!";
		next;
		mes "[Nyangson]";
		mes "Yes. Yes.";
		mes "This is the sort of training where you dispose of and breach all the traps.";
		mes "Yes, this is.";
		close2;
	} else if (nyadven == 8) {
		mes "[Homnya]";
		mes "It was a scary moment.";
		mes "This machine is still fine anyways!";
		mes "Stop it again.";
		next;
		mes "[Homnya]";
		mes "Yes, you need Adventure Card B to operate this machine.";
		mes "Do you want to buy a new one?";
		next;
		mes "[Nyangson]";
		mes "It costs one Malangdo Can.";
		next;
		switch(select("Buy Adventure Card.:Do not buy.")) {
		case 1:
			if (countitem(12636) == 0) {
				mes "[Homnya]";
				mes "I said I can exchange Adventure Card with one Malango Can~";
				close2;
				break;
			}
			mes "[Homnya]";
			mes "See, this is a scary machine.";
			mes "Here is your Adventure Card.";
			mes "Stop this machine this time.";
			delitem 12636,1; //Malang_Sp_Can
			set nyadven,7;
			getitem 6429,1; //Bravery_Card_B
			close2;
			break;
		case 2:
			mes "[Homnya]";
			mes "What?";
			mes "But you came here to buy a Adventure Card.";
			mes "......";
			next;
			mes "[Nyangson]";
			mes "If you buy a Adventure Card there won't be any bloodshed...";
			close2;
			break;
		}
	} else if (nyadven == 9) {
		mes "[Homnya]";
		mes "Hey, there is good news for you.";
		mes "I received pretty good news while you struggled with that machine.";
		next;
		mes "[Nyangson]";
		mes "Hello, capable friend, what did you find?";
		mes "Is this something like hidden treasure?";
		next;
		mes "[Homnya]";
		mes "Hidden treasure?";
		mes "Very similar!";
		mes "It will be hidden in serveral places inside the cabin.";
		mes "You should find them!";
		next;
		switch(select("I feel tired of it now.:Oh, yes!")) {
		case 1:
			mes "[Homnya]";
			mes "Oh, really?";
			mes "If you feel tired then it's okay.";
			mes "Please come again, if you want.";
			next;
			mes "[Nyangson]";
			mes "Please come again~.";
			close2;
			break;
		case 2:
			mes "[Homnya]";
			mes "I knew you would do this!";
			mes "I have the right eye for people.";
			mes "The place is inside of the ship Navi.";
			next;
			mes "[Nyangson]";
			mes "It will be fine because it isn't really a large place.";
			mes "I look forward to your active work!";
			set nyadven,10;
			setquest 7250;
			close2;
			break;
		}
	} else if (nyadven == 10) {
		mes "[Homnya]";
		mes "Please find the pieces of the treasure.";
		mes "The tresure is hidden inside of the ship Navi according to our information.";
		next;
		mes "[Nyangson]";
		mes "Come here right after you find treasure!";
		close2;
	} else if (nyadven == 11) {
		if (countitem(6430) > 5) {
			mes "[Homnya]";
			mes "You've found all the treasure.";
			mes "Yes, exactly.";
			mes "You might thought this painting was just a normal painting.";
			next;
			mes "[Homnya]";
			mes "But...!";
			mes "If we do this...!";
			next;
			mes "[Nyangson]";
			mes "Oh, this is....... the one from that moment...";
			mes "This is the one when we left our hometown.";
			next;
			mes "[Homnya]";
			mes "It's time to give it back to the brave new team!";
			mes "Let's give it back!";
			mes "Meow~";
			next;
			mes "Charo and Rosy who make up as Homnya and Nyangson";
			mes "checked the pieces of painting and give it back again.";
			mes "They look excited.";
			next;
			mes "[Homnya]";
			mes "Please give it back to the Meow Bravery Team~";
			mes "For everyone~ Meow~";
			mes "These are real treasures!";
			set nyadven,12;
			erasequest 7250;
			erasequest 7251;
			erasequest 7252;
			erasequest 7253;
			erasequest 7254;
			erasequest 7255;
			erasequest 7256;
			setquest 7258;
			close2;
		} else {
			mes "[Homnya]";
			mes "Well? It's strange. There should be 6 pieces of treasure.";
			mes "It's missing pieces...";
			mes "Is this fake? I will throw it out!";
			next;
			mes "[Nyangson]";
			mes "Go get the treasure again!";
			delitem 6430,countitem(6430); //Picture_Piece
			erasequest 7251;
			erasequest 7252;
			erasequest 7253;
			erasequest 7254;
			erasequest 7255;
			erasequest 7256;
			set nyadven,10;
			setquest 7250;
			close2;
		}
	} else if (nyadven == 12 || nyadven == 13) {
		mes "[Homnya]";
		mes "Please give these treasures you've found to the Meow Bravery Team.";
		mes "You will know how precious these treasures are when you give these to them~";
		next;
		mes "[Nyangson]";
		mes "Yes, you will realize.";
		mes "It's good to take a break for little bit but now we don't have any spare time.";
		close2;
	} else {
		if (countitem(6429) > 0) {
			mes "[Homnya]";
			mes "Stop this noisy machine!";
			mes "Insert your Adventure Card, and take a look at the reaction of the machine carefully. Then do the proper action!";
			next;
			mes "[Nyangson]";
			mes "That's right~";
			close2;
		}
		mes "[Homnya]";
		mes "Hey Nyangson.";
		mes "Here comes the hero.";
		mes "He seems to be here for fixing this naughty machine.";
		next;
		mes "[Nyangson]";
		mes "I always admire your keen insight.";
		mes "He looks like that for sure.";
		mes "Then he will buy Adventure Card with Malangdo Can?";
		next;
		mes "[Homnya]";
		mes "You are getting better";
		mes "I always keep eyes on your keen insight.";
		mes "You are my true friend.";
		next;
		switch(select("How's the condition of Bang?:Ignore it.")) {
		case 1:
			if (checkquest(7249,PLAYTIME) == 0 || checkquest(7249,PLAYTIME) == 1) {
				mes "[Homnya]";
				mes "it's so motivated but it's not the time yet.";
				mes "Not yet even though naughty machine is noisy.";
				mes "Please come again.";
				next;
				mes "[Nyangson]";
				mes "We also have break time.....";
				close2;
			} else {
				if (checkquest(7249,PLAYTIME) == 2)
					erasequest 7249;
				mes "[Homnya]";
				mes "Can you hear how noisy this one is?";
				mes "It sounds like a runaway foal!";
				next;
				mes "[Nyangson]";
				mes "He needs an Adventure Card to stop it.";
				mes "Well, do you want to try?";
				next;
				switch(select("Buy Adventure Card B.:Don't buy it.")) {
				case 1:
					if (countitem(12636) == 0) {
						mes "[Homnya]";
						mes "How many Malangdo Cans for an Adventure Card?";
						next;
						mes "[Nyangson]";
						mes "Only one can, dear.";
						mes "Meow~";
						close2;
						break;
					}
					mes "[Homnya]";
					mes "Yes, please try it without blowing it up.";
					mes "Solve it fast!";
					next;
					mes "[Nyangson]";
					mes "Please do it.";
					delitem 12636,1; //Malang_Sp_Can
					getitem 6429,1; //Bravery_Card_B
					close2;
					break;
				case 2:
					cutin "mal_homnya_s",2;
					mes "[Homnya]";
					mes "Ah... Hey... You can't do that!";
					mes "Hey, don't go!";
					mes "Please stop this, Nyangson!";
					next;
					mes "[Nyangson]";
					mes "This and that one are all noisy!";
					mes "Please!";
					next;
					mes "The two young cats are sweating a lot.";
					close2;
					break;
				}
			}
			break;
		case 2:
			cutin "mal_homnya_s",2;
			mes "[Homnya]";
			mes "Ah... Hey... You can't do that!";
			mes "Hey, don't go!";
			mes "Please stop this, Nyangson!";
			next;
			mes "[Nyangson]";
			mes "This and that one are all noisy!";
			mes "Please!";
			next;
			mes "The two young cats are sweating a lot.";
			close2;
			break;
		}
	}
	cutin "",255;
	end;
}

malangdo,173,177,7	script	Friend of Detective#mal	559,{
	cutin "mal_homnya_n",2;
	mes "[Nyangson]";
	mes "I am a friend of Detective Homnya, Nyangson.";
	mes "Please ask Homnya if you have questions.";
	next;
	mes "[Homnya]";
	mes "Yes, he only goes 'yes, my friend' beside me!";
	mes "Ask me!";
	close2;
	cutin "",255;
	end;
}

malangdo,174,175,0	script	Noisy Machine#nya_13	844,{
	if (nyadven < 7) {
		mes "There is a strange machine.";
		mes "It has a Red, Blue, Yellow, and Green luminous body with buttons to react,";
		mes "while spinning with noisy sounds.";
		next;
		mes "It looks more unstable as it spins faster.";
		close;
	}
	if (checkquest(7249,PLAYTIME) == 0 || checkquest(7249,PLAYTIME) == 1) {
		mes "[Homnya]";
		mes "It's so motivated, but it's not time yet.";
		mes "Not yet, even though the machine is so noisy.";
		mes "Please come again.";
		next;
		mes "[Nyangson]";
		mes "We also have break time...";
		close;
	}
	if (countitem(6429) == 0) {
		mes "[Homnya]";
		mes "You can't try this without Adventure Card B.";
		mes "Please bring it with you.";
		close;
	}
	mes "There is a strange machine.";
	mes "It has a Red, Blue, Yellow, and Green luminous body with buttons to react,";
	mes "while spinning with noisy sounds.";
	next;
	mes "It looks more unstable as it spins faster.";
	next;
	cutin "mal_homnya_n",2;
	mes "[Homnya]";
	mes "Stop this machine by inserting the card into it!";
	next;
	mes "[Nyangson]";
	mes "Go ahead!";
	next;
	cutin "",255;
	if(select("Insert card.:Stop it.") == 2) {
		mes "[Homnya]";
		mes "Um? You aren't going to do this?";
		mes "Really?";
		mes "Even though this machine can blow up the whole island?!";
		next;
		mes "[Nyangson]";
		mes "Does he know it's never going to blow up?";
		next;
		mes "The two young cats are sweating a lot.";
		close;
	}
	mes "After inserting the card, discs on top of the machine spin faster...";
	mes "The lights begin to flicker faster too.";
	next;
	callsub L_ShowLights,2;
	callsub L_ShowLights,4;
	callsub L_ShowLights,6;
	callsub L_ShowLights,8;
	cutin "mal_homnya_n",2;
	mes "[Homnya]";
	mes "Oh, great!";
	mes "The banging has stopped!";
	mes "You have a good memory!";
	mes "Please take this small gift.";
	next;
	mes "[Nyangson]";
	mes "You can get it after you have been through all the difficulties from the Meow Advanture Team.";
	mes "And we are not sure if this machine will try to blow up agian, so please come again tomorrow.";
	if (nyadven == 7) {
		set nyadven,9;
		erasequest 7247;
	}
	delitem 6429,1; //Bravery_Card_B
	setquest 7249;
	getitem 6422,3; //Egrade_Coin
	getexp 20000,20000;
	next;
	if (nyadven == 9) {
		mes "[Homnya]";
		mes "Hey, there is good news for you.";
		mes "I received pretty good news while you struggled with that machine.";
		next;
		mes "[Nyangson]";
		mes "Hello, capable friend, what did you find?";
		mes "Is this something like hidden treasure?";
		next;
		mes "[Homnya]";
		mes "Hidden treasure?";
		mes "Very similar!";
		mes "It will be hidden in serveral places inside the cabin.";
		mes "You should find them!";
		next;
		switch(select("I feel tired of it now.:Oh, yes!")) {
		case 1:
			mes "[Homnya]";
			mes "Oh, really?";
			mes "If you feel tired then it's okay.";
			mes "Please come again, if you want.";
			next;
			mes "[Nyangson]";
			mes "Please come again~.";
			close2;
			break;
		case 2:
			mes "[Homnya]";
			mes "I knew you would do this!";
			mes "I have the right eye for people.";
			mes "The place is inside of the ship Navi.";
			next;
			mes "[Nyangson]";
			mes "It will be fine because it isn't really a large place.";
			mes "I look forward to your active work!";
			set nyadven,10;
			setquest 7250;
			close2;
			break;
		}
	} else {
		mes "[Homnya]";
		mes "Then I am looking forward to tomorrow!";
		close2;
	}
	cutin "",255;
	end;

// callsub L_ShowLights,<number of lights>;
L_ShowLights:
	mes "Luminous";
	mes "The order of buttons are:";
	mes "[Red] [Green] [Blue] [Yellow]";
	mes "And below this, more buttons:";
	mes "[Green] [Red] [Yellow] [Blue]";
	mes "In that order.";
	next;
	mes "Luminous";
	setarray .@Color$[0],"Red","Blue","Yellow","Green";
	setarray .@Cutin$[0],"nya_red","nya_blue","nya_yellow","nya_green";
	for(set .@i,0; .@i<getarg(0); set .@i,.@i+1) {
		set .@rand, rand(4);
		set .@Lamp[.@i],.@rand;
		mes .@Color$[.@rand];
		if (.@i+1 == getarg(0))
			mes "Shines according to this order.";
		cutin .@Cutin$[.@rand],4;
		progressbar "0xFFFF00",1;
	}
	cutin "nya_off",4;
	mes "The buttons below are shining now.";
	mes "Stop the machine by pressing the right button within time.";
	next;
	set .@pass,0;
	setarray .@Count$[0],"first","second","third","fourth","fifth","sixth","seventh","eighth";
	for(set .@i,0; .@i<getarg(0); set .@i,.@i+1) {
		mes "Which color button do you want to press "+.@Count$[.@i]+"?";
		next;
		// Red <-> Green, Blue <-> Yellow
		set .@j, select("Red:Blue:Yellow:Green");
		if (.@Lamp[.@i] == 4-.@j)
			set .@pass,.@pass+1;
	}
	if (.@pass < getarg(0)) {
		mes "The speed of spinning is getting faster after pressing the buttons.";
		mes "After all...";
		specialeffect EF_BEGINSPELL6;
		emotion e_gasp,0,"Cat Detective#nya_14";
		emotion e_gasp,0,"Friend of Detective#mal";
		next;
		cutin "mal_homnya_s",2;
		mes "[Homnya]";
		mes "Watch out!!!";
		mes " ";
		mes "[Nyangson]";
		mes "It's blowing up!";
		specialeffect EF_FIREHIT;
		specialeffect EF_FIRESPLASHHIT;
		next;
		cutin "",255;
		mes "Adventure Card B burned off";
		mes "with a huge explosion.";
		delitem 6429,1; //Bravery_Card_B
		if (nyadven == 7)
			set nyadven,8;
		close;
	}
	mes "The speed of the spinning discs gets slower after pressing the buttons.";
	mes "The luminous shines once and stops also.";
	cutin "nya_off",4;
	next;
	if (getarg(0) < 8) {
		mes "[Homnya]";
		mes "Don't reduce your tension!";
		mes "It's not over yet!";
		next;
		mes "The machine starts again.";
		mes "And the luminous shines also, as if it keeps asking you for the right answer.";
		next;
	}
	return;
}

// callfunc "F_Mal_Picture",<quest ID>,<chance to kick?>,<description 1>,<description 2>,<description 3>;
// Returns:
// 1    - Player kicked.
// 2    - nyadven is not 10.
// 3    - Player has already found the picture piece.
// null - Success.
function	script	F_Mal_Picture	{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 4000) {
		mes "- You have too many items to proceed in this quest. -";
		close;
	}
	if (getarg(1) && rand(2))
		return 1;
	else if (nyadven != 10)
		return 2;
	else if (checkquest(getarg(0)) > -1)
		return 3;
	else {
		mes getarg(2);
		mes getarg(3);
		next;
		mes getarg(4);
		mes "You found a piece of the painting.";
		setquest getarg(0);
		getitem 6430,1; //Picture_Piece
		next;
		if (checkquest(7251) > -1 && checkquest(7252) > -1 && checkquest(7253) > -1 && checkquest(7254) > -1 && checkquest(7255) > -1 && checkquest(7256) > -1) {
			mes "It looks like you can put these pieces of paintings together.";
			mes "If I found all the pieces, I should go back to Homnya.";
			set nyadven,11;
			close;
		}
		mes "I think this is the treasure Homnya and Nyangson mentioned.";
		mes "Let's find more pieces.";
		close;
	}
}

mal_in02,187,45,0	script	Box#nya01	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7251,1,
		"There is an uncommon box in the corner of the cabin.",
		"It seems to tell me that it has a teasure inside.",
		"I can see a piece of paper sticking out."
	)) {
	case 1:
		mes "[Neat Crew]";
		mes "What are you doing here?!";
		mes "Don't touch that box any more!";
		mes "There will be more bugs if you keep hiding snacks in there!";
		mes "Get out!";
		close2;
		warp "mal_in02",138,60;
		end;
	case 2:
		mes "A box in the corner of the cabin.";
		close;
	case 3:
		mes "This is a box which used to contain a piece of the painting.";
		close;
	}
}

mal_in02,170,75,0	script	Book#nya02	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7252,1,
		"The books are organized according to order on the bookshelf.",
		"I try to take 1 book off carefully.",
		"I can see something sticking out among the books."
	)) {
	case 1:
		mes "[Neat Crew]";
		mes "Ah, do not touch it!";
		mes "Why do you keep messing it up after I clean up the room?!";
		mes "Get out!";
		close2;
		warp "mal_in02",138,60;
		end;
	case 2:
		mes "The books are organized according to order on the bookshelf.";
		close;
	case 3:
		mes "This is a book which used to contain a piece of the painting.";
		close;
	}
}

mal_in02,133,98,0	script	Dirty Bed#nya03	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7253,1,
		"This is a normal cabin for the crew.",
		"My eyes kept straying over to old bed in corner of the room.",
		"Something is hanging with furs below the bed."
	)) {
	case 1:
		mes "[Scary Crew]";
		mes "What are you doing here?";
		mes "Do not disturb me, and go away.";
		mes "Get out!";
		close2;
		warp "mal_in02",100,60;
		end;
	case 2:
		mes "It's dirty and smells like fish.";
		mes "There are a lot of furs from cats.";
		close;
	case 3:
		mes "This is dirty bed where a piece of the painting was hidden.";
		mes "There are a lot of furs from cats.";
		close;
	}
}

mal_in02,31,57,0	script	Seashell#nya04	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7254,0,
		"This cabin is large and clean, and it seems to for the captain.",
		"My eyes kept straying over to the seashell and conch for decoration in the corner of the room.",
		"There is a rolled up paper in the conch."
	)) {
	case 2:
		mes "There is a seashell decoration on a clean display cupboard.";
		close;
	case 3:
		mes "This is the seashell where a piece of the painting was hidden.";
		close;
	}
}

mal_in02,114,56,0	script	Ship Pillar#nya05	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7255,1,
		"This is one of pillars to bear out the ship.",
		"It has many nail marks as it has been through many cats.",
		"There is a folded piece of paper in the crack of the wooden wall."
	)) {
	case 1:
		mes "[Picky Crew]";
		mes "Is that you who scratched all the pillars in here?!";
		mes "Meow~~~~!!";
		mes "Get off from that pillar!";
		close2;
		warp "malangdo",170,160;
		end;
	case 2:
		mes "I can see the trace of a scratch.";
		mes "Pillars made from trees are originally good to hang, but scratched by nails.";
		close;
	case 3:
		mes "I can see the crack where a piece of the painting was hidden.";
		close;
	}
}

mal_in02,139,30,0	script	Ventilation Window#nya06	844,{
	switch(callfunc(
		"F_Mal_Picture",
		7256,0,
		"This cabin is for the normal crew.",
		"There are many ventilation windows on the floor in this room.",
		"One of the windows opens with a clink, revealing a piece of paper."
	)) {
	case 2:
		mes "There are windows for ventilation on the floor.";
		mes "A cold wind comes from these windows.";
		mes "Why are ventilation windows set up on the floor?";
		close;
	case 3:
		mes "There are windows for ventilation on the floor.";
		mes "A piece of the painting was hung in there.";
		mes "Why are ventilation windows set up on the floor?";
		close;
	}
}

mal_in02,166,74,4	script	Neat Crew#nyaong01	555,{
	mes "[Neat Crew]";
	mes "Please clean up your stuff by yourself.";
	mes "Especially you guys getting dirty after we came to this island!";
	mes "Please throw the trash into the trash can.";
	next;
	mes "[Neat Crew]";
	mes "And you plucked every crop.";
	mes "Hmph. Please, let's leave it in its natural state.";
	next;
	mes "[Neat Crew]";
	mes "What are you looking at?";
	mes "Will you mess up here too?";
	mes "Meow?!";
	close;
}

mal_in02,132,95,5	script	Scary Crew#nyaong02	561,{
	mes "[Scary Crew]";
	mes "I try to be nice these days, and kids just take liberties with me.";
	mes "Will you too?";
	next;
	mes "[Scary Crew]";
	mes "They just come in and out, even the other person's room...";
	mes "It causes harm for sure.";
	close;
}

mal_in02,109,62,4	script	Picky Crew#nyaong03	545,{
	mes "[Picky Crew]";
	mes "Do not run in the hall!";
	mes "My fur falls out because of someone who";
	mes "scratches everywhere!";
	close;
}

// Archangel Wing Enchants :: enc_angel
//============================================================
malangdo,234,153,6	script	Notice Board#mal	837,{
	mes "^0000FFThere's a hastily written message on this bulletin board.^000000";
	next;
	mes "A fallen angel within will unlock a hidden enchantment to Archangel Wings.";
	close;
}

mal_in01,15,16,3	script	Fallen Angel#mal	403,{
	disable_items;
	if (checkweight(1201,1) == 0) {
		mes "You are carrying too many items, please reduce them and come back!";
		close;
	}
	if (MaxWeight - Weight < 10000) {
		mes "You have overweight, please reduce it and come back!";
		close;
	}
	if (getequipid(EQI_GARMENT) == 2573) {
		if (Zeny >= 1000000)
			set .@menu$, "Enchant Archangel Wing";
		else
			set .@menu$, "^999999You do not have enough zeny!^000000";
	} else
		set .@menu$, "^999999You have not equipped the Archangel Wing!^000000";
	mes "[Fallen Angel]";
	mes "You seem like a poor guy!";
	next;
	mes "[Fallen Angel]";
	mes "If you have an Archangel Wing, I will enchant my capability into the useless 4th slot. Would you like me to do so?";
	next;
	switch(select("What is that?:"+.@menu$+":Enchant Initialization")) {
	case 1:
		switch(select("Stop speaking:What are you going to do?")) {
		case 1:
			mes "[Fallen Angel]";
			mes "What did you say?";
			close;
		case 2:
			mes "[Fallen Angel]";
			mes "I can enchant my capability into your Archangel Wing if you pay 1,000,000 zeny. But you can't enchant it again without resetting it.";
			next;
			mes "[Fallen Angel]";
			mes "The enchantment is dangerous, so ^ff0000the wing might be damaged^000000! Nevertheless, my good blessing will retain the ^0000ffcard and refine level^0000ff!";
			close;
		}
	case 2:
		if (Zeny < 1000000) {
			mes "[Fallen Angel]";
			mes "I can't do it if you can't pay!";
			close;
		}
		mes "[Fallen Angel]";
		mes "There are 2 important notices. First, the enchantment requires ^0000ff1,000,000 zeny^000000.";
		next;
		mes "[Fallen Angel]";
		mes "Second, ^ff0000although the rate is not high, the Archangel Wing might be damaged^000000! This is very unlucky!";
 		mes "If you can accept these conditions, I will enchant the wing for you.";
		next;
		if(select("Let me consider...:I accept, let's enchant!") == 1) {
			mes "[Fallen Angel]";
			mes "Ok! Take your time to consider!";
			close;
		}
		specialeffect2 EF_REPAIRWEAPON;
		progressbar "ffff00",2;
		if (getequipisequiped(EQI_GARMENT) == 0) {
			mes "[Fallen Angel]";
			mes "The Archangel Wing has been taken out!";
			close;
		}
		if (getequipid(EQI_GARMENT) != 2573) {
			mes "[Fallen Angel]";
			mes "Don't take off the item!";
			close;
		}
		if (getequipcardid(EQI_GARMENT,3)) {
			mes "[Fallen Angel]";
			mes "This Archangel Wing is enchanted! Please initialize it or bring another Archangel Wing for me!";
			close;
		}
		set .@equip_refine, getequiprefinerycnt(EQI_GARMENT);
		setarray .@equip_card[0], getequipcardid(EQI_GARMENT,0),getequipcardid(EQI_GARMENT,1),getequipcardid(EQI_GARMENT,2);

		set .@i, rand(1,900);
		     if (.@i < 2)   set .@enchant,4848; //Immuned1
		else if (.@i < 3)   set .@enchant,4849; //Cranial1
		else if (.@i < 4)   set .@enchant,4852; //Heal_Amount5
		else if (.@i < 9)   set .@enchant,4853; //S_Str
		else if (.@i < 14)  set .@enchant,4854; //S_Agi
		else if (.@i < 19)  set .@enchant,4855; //S_Vital
		else if (.@i < 24)  set .@enchant,4856; //S_Int
		else if (.@i < 29)  set .@enchant,4857; //S_Dex
		else if (.@i < 34)  set .@enchant,4858; //S_Luck
		else if (.@i < 39)  set .@enchant,4851; //Heal_Amount4
		else if (.@i < 49)  set .@enchant,4850; //Heal_Amount3
		else if (.@i < 74)  set .@enchant,4760; //Matk1
		else if (.@i < 84)  set .@enchant,4761; //Matk2
		else if (.@i < 109) set .@enchant,4817; //Sharp2
		else if (.@i < 119) set .@enchant,4816; //Sharp3
		else if (.@i < 144) set .@enchant,4814; //Spell2
		else if (.@i < 154) set .@enchant,4813; //Spell3
		else if (.@i < 179) set .@enchant,4833; //Expert_Archer2
		else if (.@i < 189) set .@enchant,4834; //Expert_Archer3
		else if (.@i < 214) set .@enchant,4810; //Fighting_Spirit2
		else if (.@i < 224) set .@enchant,4809; //Fighting_Spirit3
		else if (.@i < 259) set .@enchant,4701; //Strength2
		else if (.@i < 294) set .@enchant,4731; //Agility2
		else if (.@i < 329) set .@enchant,4721; //Dexterity2
		else if (.@i < 364) set .@enchant,4741; //Vitality2
		else if (.@i < 399) set .@enchant,4751; //Luck2
		else if (.@i < 434) set .@enchant,4711; //Inteligence2
		else if (.@i < 504) set .@enchant,4700; //Strength1
		else if (.@i < 574) set .@enchant,4730; //Agility1
		else if (.@i < 644) set .@enchant,4720; //Dexterity1
		else if (.@i < 714) set .@enchant,4740; //Vitality1
		else if (.@i < 784) set .@enchant,4750; //Luck1
		else if (.@i < 854) set .@enchant,4710; //Inteligence1
		else set .@enchant,0;

		set Zeny, Zeny - 1000000;
		delequip EQI_GARMENT;
		if (.@enchant == 0) {
			mes "[Fallen Angel]";
			mes "Be merciful to the survivor,";
			mes "Send flowers to the dead.";
			next;
			mes "[Fallen Angel]";
			mes "Help for justice,";
			mes "Elimination of evil.";
			next;
			mes "[Fallen Angel]";
			mes "But the important point is... the Archangel Wing is damaged!";
			close;
		}
		getitem2 2573,1,1,.@equip_refine,0,.@equip_card[0],.@equip_card[1],.@equip_card[2],.@enchant; //Archangel_Wing
		if (.@i < 4)
			announce strcharinfo(0)+" has enchanted Archangel Wing with amazing capability!",bc_all,0xFF0000,FW_NORMAL,10;
		mes "[Fallen Angel]";
		mes "Take it!";
		mes "I believe that you will become the dominator of the new world!";
		close;
	case 3:
		mes "[Fallen Angel]";
		mes "Initialization requires ^0000ff3 units of Silvervine Fruit^000000. The wing will not be damaged except for the enchanted capability.";
		next;
		if(select("Let me consider...:Ok, I want initialize it.") == 1) {
			mes "[Fallen Angel]";
			mes "Ok! Take your time to consider!";
			close;
		}
		specialeffect2 EF_REPAIRWEAPON;
		progressbar "ffff00",2;
		if (getequipisequiped(EQI_GARMENT) == 0) {
			mes "[Fallen Angel]";
			mes "The Archangel Wing has been taken out!";
			close;
		}
		if (getequipid(EQI_GARMENT) != 2573) {
			mes "[Fallen Angel]";
			mes "Oh... you have unequipped the Archangel Wing!";
			close;
		}
		if (countitem(6417) < 3) {
			mes "[Fallen Angel]";
			mes "I can't do it if you can't pay!";
			close;
		}
		if (getequipcardid(EQI_GARMENT,3) < 4700) { // Armor Enchant System
			mes "[Fallen Angel]";
			mes "This equipment has not been enchanted, please check it again!";
			close;
		}
		set .@equip_refine, getequiprefinerycnt(EQI_GARMENT);
		setarray .@equip_card[0], getequipcardid(EQI_GARMENT,0),getequipcardid(EQI_GARMENT,1),getequipcardid(EQI_GARMENT,2);
		delequip EQI_GARMENT;
		getitem2 2573,1,1,.@equip_refine,0,.@equip_card[0],.@equip_card[1],.@equip_card[2],0; //Archangel_Wing
		mes "[Fallen Angel]";
		mes "Take it!";
		close;
	}
}
